(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2],{105:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(106),o=a.n(i),l=a(107),s=a.n(l),c=a(3),u=a.n(c);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=b(e);if(t){var n=b(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return y(this,a)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=s()(o.a),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var t,a,r,i=x(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).responsiveChartRef=n.a.createRef(),t.plotlyLayout=e.plotlyLayout,t}return t=o,(a=[{key:"componentDidMount",value:function(){var e=this;this.resizeListener=window.addEventListener("resize",(function(){var t=e.responsiveChartRef.current,a=p({},e.props.plotlyLayout);a.width=t.parentNode.getBoundingClientRect().width,a.height=t.getBoundingClientRect().height-24;var r,n=window.innerWidth<=1e3?90:0,i=window.innerWidth<=768?10:5,o=window.innerWidth<=768?.5:.4,l=a?(r=a.title.text).indexOf("<br>",0)>0&&window.innerWidth<=768?r:r.replace("<br>"," "):"",s=function(e){if(e.indexOf("<br>",0)>0)return e;for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}(l);a.xaxis.tickangle=n,a.xaxis.dtick=i,a.legend.x=window.innerWidth<=768?0:.65,a.legend.y=window.innerWidth<=768?-.15:1.125,a.title.text=window.innerWidth<=768?s:l,a.title.x=o,e.setState({layout:a}),window.dispatchEvent(new Event("resizedone"))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.resizeListener)}},{key:"render",value:function(){var e=p({},this.props.plotlyLayout),t=this.props.plotlyData,a=p({},{responsive:!0,displayModeBar:!1}),r=this.responsiveChartRef.current;if(r){var i=r,o=window.innerWidth<=768?70:0;e.width=i.parentNode.getBoundingClientRect().width+o,e.height=i.getBoundingClientRect().height}return n.a.createElement("div",d({className:"PlotRegionDiv"},{ref:this.responsiveChartRef}),n.a.createElement(w,{data:t,layout:e,config:a,revision:Math.floor(1e5*Math.random())}))}}])&&f(t.prototype,a),r&&f(t,r),o}(n.a.Component);t.default=T,T.propTypes={plotlyLayout:u.a.object,plotlyData:u.a.array}},432:function(e,t,a){"use strict";var r=a(433)(e.i,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},435:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(13),o=a.n(i),l=(a(224),a(3)),s=a.n(l),c=a(199),u=a.n(c),h=a(470),d=a(476),m=a(477),p=a(204),g=a.n(p),f=a(105),v=(new Date).getFullYear()-1,x=function(){return[{value:"1900-current",pullDownText:"1900 - ".concat(v),range:[1900,v],season:"yearly"},{value:"1950-current",pullDownText:"1950 - ".concat(v),range:[1950,v],season:"yearly"},{value:"1895-current",pullDownText:"1895 - ".concat(v),range:[1895,v],season:"ann"},{value:"1895-current",pullDownText:"1895 - ".concat(v),range:[1895,v],season:"djf"},{value:"1895-current",pullDownText:"1895 - ".concat(v),range:[1895,v],season:"mam"},{value:"1895-current",pullDownText:"1895 - ".concat(v),range:[1895,v],season:"jja"},{value:"1895-current",pullDownText:"1895 - ".concat(v),range:[1895,v],season:"son"}]},y=function(){return[{value:"1inch",pullDownText:"Days with Precipitation Greater than 1 inch",chartTitle:"Number of Days with Precipitation Greater than 1 inch",season:"yearly"},{value:"2inch",pullDownText:"Days with Precipitation Greater than 2 inches",chartTitle:"Number of Days with Precipitation Greater than 2 inches",season:"yearly"},{value:"3inch",pullDownText:"Days with Precipitation Greater than 3 inches",chartTitle:"Number of Days with Precipitation Greater than 3 inches",season:"yearly"},{value:"4inch",pullDownText:"Days with Precipitation Greater than 4 inches",chartTitle:"Number of Days with Precipitation Greater than 4 inches",season:"yearly"},{value:"tmax0F",pullDownText:"Days with Maximum Temperature Below 0°F",chartTitle:"Number of Days with Maximum Temperature Below 0°F",season:"yearly"},{value:"tmax32F",pullDownText:"Days with Maximum Temperature Below 32°F",chartTitle:"Number of Days with Maximum Temperature Below 32°F",season:"yearly"},{value:"tmax90F",pullDownText:"Days with Maximum Temperature Above 90°F",chartTitle:"Number of Days with Maximum Temperature Above 90°F",season:"yearly"},{value:"tmax95F",pullDownText:"Days with Maximum Temperature Above 95°F",chartTitle:"Number of Days with Maximum Temperature Above 95°F",season:"yearly"},{value:"tmax100F",pullDownText:"Days with Maximum Temperature Above 100°F",chartTitle:"Number of Days with Maximum Temperature Above 100°F",season:"yearly"},{value:"tmin0F",pullDownText:"Days with Minimum Temperature Below 0°F",chartTitle:"Number of Days with Minimum Temperature Below 0°F",season:"yearly"},{value:"tmin32F",pullDownText:"Days with Minimum Temperature Below 32°F",chartTitle:"Number of Days with Minimum Temperature Below 32°F",season:"yearly"},{value:"tmin70F",pullDownText:"Days with Minimum Temperature Above 70°F",chartTitle:"Number of Days with Minimum Temperature Above 70°F",season:"yearly"},{value:"tmin75F",pullDownText:"Days with Minimum Temperature Above 75°",chartTitle:"Number of Days with Minimum Temperature Above 75°",season:"yearly"},{value:"tmin80F",pullDownText:"Days with Minimum Temperature Above 80°F",chartTitle:"Number of Days with Minimum Temperature Above 80°F",season:"yearly"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Annual (Jan - Dec) total Precipitation pcpn",season:"ann"},{value:"tmpc",pullDownText:"Average temperature",chartTitle:"Annual (Jan - Dec) average temperature",season:"ann"},{value:"tmin",pullDownText:"Average minimum temperature",chartTitle:"Annual (Jan - Dec) average minimum temperature",season:"ann"},{value:"tmax",pullDownText:"Average maximum temperature",chartTitle:"Annual (Jan - Dec) average maximum temperature",season:"ann"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Winter (Dec, Jan, Feb) total Precipitation",season:"djf"},{value:"tmpc",pullDownText:"Average temperature",chartTitle:"Winter (Dec, Jan, Feb) average temperature",season:"djf"},{value:"tmin",pullDownText:"Average minimum temperature",chartTitle:"Winter (Dec, Jan, Feb) average minimum temperature",season:"djf"},{value:"tmax",pullDownText:"Average maximum temperature",chartTitle:"Winter (Dec, Jan, Feb) average maximum temperature",season:"djf"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Spring (Mar, Apr, May) total Precipitation",season:"mam"},{value:"tmpc",pullDownText:"Average temperature",chartTitle:"Spring (Mar, Apr, May) average temperature",season:"mam"},{value:"tmin",pullDownText:"Average minimum temperature",chartTitle:"Spring (Mar, Apr, May) average minimum temperature",season:"mam"},{value:"tmax",pullDownText:"Average maximum temperature",chartTitle:"Spring (Mar, Apr, May) average maximum temperature",season:"mam"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Summer (Jun, Jul, Aug) total Precipitation",season:"jja"},{value:"tmpc",pullDownText:"Average temperature",chartTitle:"Summer (Jun, Jul, Aug) average temperature",season:"jja"},{value:"tmin",pullDownText:"Average minimum temperature",chartTitle:"Summer (Jun, Jul, Aug) average minimum temperature",season:"jja"},{value:"tmax",pullDownText:"Average maximum temperature",chartTitle:"Summer (Jun, Jul, Aug) average maximum temperature",season:"jja"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Fall (Sep, Oct, Nov) total Precipitation",season:"son"},{value:"tmpc",pullDownText:"Average temperature",chartTitle:"Fall (Sep, Oct, Nov) average temperature",season:"son"},{value:"tmin",pullDownText:"Average minimum temperature",chartTitle:"Fall (Sep, Oct, Nov) average minimum temperature",season:"son"},{value:"tmax",pullDownText:"Average maximum temperature",chartTitle:"Fall (Sep, Oct, Nov) average maximum temperature",season:"son"}]},b=function(){return[{value:"AK",pullDownText:"Alaska"},{value:"AL",pullDownText:"Alabama"},{value:"AZ",pullDownText:"Arizona"},{value:"AR",pullDownText:"Arkansas"},{value:"CA",pullDownText:"California"},{value:"CO",pullDownText:"Colorado"},{value:"CT",pullDownText:"Connecticut"},{value:"DE",pullDownText:"Delaware"},{value:"FL",pullDownText:"Florida"},{value:"GA",pullDownText:"Georgia"},{value:"HI",pullDownText:"Hawai'i"},{value:"ID",pullDownText:"Idaho"},{value:"IL",pullDownText:"Illinois"},{value:"IN",pullDownText:"Indiana"},{value:"IA",pullDownText:"Iowa"},{value:"KS",pullDownText:"Kansas"},{value:"KY",pullDownText:"Kentucky"},{value:"LA",pullDownText:"Louisiana"},{value:"ME",pullDownText:"Maine"},{value:"MD",pullDownText:"Maryland"},{value:"MA",pullDownText:"Massachusetts"},{value:"MI",pullDownText:"Michigan"},{value:"MN",pullDownText:"Minnesota"},{value:"MS",pullDownText:"Mississippi"},{value:"MO",pullDownText:"Missouri"},{value:"MT",pullDownText:"Montana"},{value:"NE",pullDownText:"Nebraska"},{value:"NV",pullDownText:"Nevada"},{value:"NH",pullDownText:"New Hampshire"},{value:"NJ",pullDownText:"New Jersey"},{value:"NM",pullDownText:"New Mexico"},{value:"NY",pullDownText:"New York"},{value:"NC",pullDownText:"North Carolina"},{value:"ND",pullDownText:"North Dakota"},{value:"OH",pullDownText:"Ohio"},{value:"OK",pullDownText:"Oklahoma"},{value:"OR",pullDownText:"Oregon"},{value:"PA",pullDownText:"Pennsylvania"},{value:"PR",pullDownText:"Puerto Rico"},{value:"RI",pullDownText:"Rhode Island"},{value:"SC",pullDownText:"South Carolina"},{value:"SD",pullDownText:"South Dakota"},{value:"TN",pullDownText:"Tennessee"},{value:"TX",pullDownText:"Texas"},{value:"UT",pullDownText:"Utah"},{value:"VT",pullDownText:"Vermont"},{value:"VA",pullDownText:"Virginia"},{value:"VI",pullDownText:"Virgin Islands"},{value:"WA",pullDownText:"Washington"},{value:"WV",pullDownText:"West Virginia"},{value:"WI",pullDownText:"Wisconsin"},{value:"WY",pullDownText:"Wyoming"},{value:"National",pullDownText:"National"},{value:"Northeast",pullDownText:"Northeast"},{value:"Southeast",pullDownText:"Southeast"},{value:"Midwest",pullDownText:"Midwest"},{value:"Northern Great Plains",pullDownText:"Northern Great Plains"},{value:"Northwest",pullDownText:"Northwest"},{value:"Southwest",pullDownText:"Southwest"},{value:"Southern Great Plains",pullDownText:"Southern Great Plains"},{value:"Alaska",pullDownText:"Alaska"},{value:"Hawaii",pullDownText:"Hawai'i"},{value:"Puerto Rico",pullDownText:"Puerto Rico"}]},w=function(){return[{value:"yearly",pullDownText:"Threshold Exceedances (annual)"},{value:"ann",pullDownText:"Annual - Mean Temperature and Precipitation (Jan-Dec)"},{value:"djf",pullDownText:"Winter - Mean Temperature and Precipitation (Dec-Feb)"},{value:"mam",pullDownText:"Spring - Mean Temperature and Precipitation (Mar-May)"},{value:"jja",pullDownText:"Summer - Mean Temperature and Precipitation (Jun-Aug)"},{value:"son",pullDownText:"Fall - Mean Temperature and Precipitation (Sep-Nov)"}]};function T(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.climateVariableValue=t,this.peroids=x(),this.climateVariableValueNames=y(),this.LocationNames=b(),this.seasons=w()}var t,a,r;return t=e,(a=[{key:"getChartTitle",value:function(e){if(!e.climatevariable)return"";var t=this.climateVariableValueNames.filter((function(t){return t.value===e.climatevariable&&t.season===e.chartDataSeason}))[0].chartTitle;return"National"===e.region&&(t="".concat(t," (National)")),"Regional"===e.region&&(t="".concat(t," (NCA Region ").concat(e.titleLocation,")")),"State"===e.region&&(t="".concat(t," (").concat(e.titleLocation,")")),t}},{key:"getClimateVariablePullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.climateVariableValueNames,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodPullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.peroids,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodRange",value:function(e){return e?this.peroids.filter((function(t){return t.value===e}))[0].range:""}},{key:"getSeasonPullDownText",value:function(e){return e?this.seasons.filter((function(t){return t.value===e}))[0].pullDownText:""}},{key:"getLocationDownText",value:function(e){if(!e)return"";var t=this.LocationNames.filter((function(t){return t.value.toUpperCase()===e.toUpperCase()})),a=e;return t[0]&&(a=t[0].pullDownText),a}}])&&T(t.prototype,a),r&&T(t,r),e}();function C(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function A(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.smallScreen=768,this.blue="4, 90, 141",this.red="189, 0, 38",this.green="127, 188, 65",this.brown="153, 52, 4",this.chartBackgroundColor="#FBFCFE",this.annualLineColor="#000000",this.precipitationColor="#5AB4AC",this.temperatureColor="#FEB24C",this.bargap=.15,this.showLegend=!0,this.legendBarLineX=window.innerWidth<=this.smallScreen?0:.65,this.legendBarLineY=window.innerWidth<=this.smallScreen?-.15:1.125,this.font="Arial",this.zeroLineColor="#000000",this.zerolinewidth="1.25",this.gridColor="#BFBFBF",this.AverageAllFontColor="#000000",this.AverageAllColor="#858585",this.AverageMovingColor="#858585",this.AverageAllWidth="6",this.AverageAllFontSize="14pt",this.AverageWidth="3",this.AverageColor="#000000",this.gridWidth="1",this.fontSizePrimary="14pt",this.fontSizeLabels="12pt",this.fontSizeLabelsSecondary="12pt",this.xmin=t.xmin,this.xmax=t.xmax,this.xvals=t.xvals,this.yvals=t.yvals,this.lineChart=t.chartLineChart,this.maxVal=Math.max.apply(Math,C(this.yvals)),this.minVal=Math.min.apply(Math,C(this.yvals)),this.shortTitle=e.splitTitle(t.chartTitle),this.chartTitle=window.innerWidth<=this.smallScreen?this.shortTitle:t.chartTitle,this.SmallScreenBreak=window.innerWidth<=this.smallScreen?"<br>":"",this.chartTitleX=window.innerWidth<=this.smallScreen?.5:.4,this.legnedText=t.legnedText,this.chartType=t.chartType,this.climatevariable=t.climatevariable,this.season=t.season,this.barColor="Precipitation"===this.chartType?this.precipitationColor:this.temperatureColor,this.periodGroups=t.periodGroups?t.periodGroups:5,this.AverageMovingPeriod=5,this.textAngle=window.innerWidth<=1e3?90:0,this.dtick=window.innerWidth<=this.smallScreen?10:5,this.yValsSumByPeriod=this.yValsSumByPeriod(),this.yValsAvgByPeriod=this.yValsAvgByPeriod(),this.yValsMovingAverage=this.computeMovingAverage(),this.xValsMovingAverage=this.movingAverageXValues(),this.xValsPeriod=this.xValsPeriod(),this.xValsPeriodLabel=this.xValsPeriodLabel();var a=this.yValsSumAll();this.yValsSumAll=a<=-50?void 0:a;var r=this.yValsAvgAll();this.yValsAvgAll=r<=-50?0:r;var n=this.minVal<0?0:this.minVal;this.prettyRange=e.pretty([n,this.maxVal]),this.yRange=[this.prettyRange[0],this.prettyRange[this.prettyRange.length-1]],this.yAxisText=this.createYAxisText(),this.legendPerText=this.createlegendPerText(),this.legendEllapsedText=this.legendEllapsedText(),this.averageTextUnits=this.averageTextUnits()}var t,a,r;return t=e,r=[{key:"splitTitle",value:function(e){if(!e)return"";for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}},{key:"pretty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(t,10)/3,n=.75,i=1.5,o=.5+1.5*i,l=Math.abs(e[0]-e[1]),s=l/t;Math.log(l)/Math.LN10<-2&&(s=Math.max(Math.abs(l))*n/r);var c=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=0;c<1&&(u=Math.abs(Math.round(Math.log(c)/Math.LN10)));var h=c;2*c-s<i*(s-h)&&5*c-s<o*(s-(h=2*c))&&10*c-s<i*(s-(h=5*c))&&(h=10*c);var d=[],m=0;for(e[0]<=h?m=0:(m=Math.floor(e[0]/h)*h,m=parseFloat(m.toFixed(u)));m<e[1];)d.push(m),m+=h,u>0&&(m=parseFloat(m.toFixed(u)));return d.push(m),a&&(d[0]<e[0]&&(d=d.slice(1)),d[d.length-1]>e[1]&&d.pop()),d}},{key:"uuidv",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}],(a=[{key:"hoverTemplateSeasonText",value:function(){var e=(new S).getSeasonPullDownText(this.season);return"yearly"!==this.season?"ann"===this.season?"annually":e.toLowerCase().split(" ")[0]:"year"}},{key:"hoverTemplateClimateVariableText",value:function(){return"yearly"!==this.season?this.climatevariable.toLowerCase():this.climatevariable.toLowerCase().replace("precipitation","precipitation").replace("minimum","the minimum").replace("maximum","the maximum")}},{key:"hoverTemplateSeasonTextPrefix",value:function(){return"yearly"!==this.season?"ann"===this.season?"":"during the":"for the"}},{key:"textUnitsWords",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"inches":"°F":(this.season," days")}},{key:"averageTextUnits",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?'"':"°F":(this.season," days")}},{key:"yearLineText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText(),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n," ").concat(this.SmallScreenBreak," was %{y:0.2f}").concat(i," ").concat(a," ").concat(r," <extra></extra>"):" In %{x} there was an average of %{y:0.2f} ".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>")}},{key:"yearBarText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText(),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n," ").concat(this.SmallScreenBreak," was %{y:0.2f}").concat(i," ").concat(a," ").concat(r,"   <extra></extra>"):" In %{x} there was an average of %{y:0.2f} ".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>")}},{key:"averageBarText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText(),i=this.averageTextUnits;return"yearly"!==this.season?" Between %{x} the ".concat(n," ").concat(this.SmallScreenBreak," was %{y:0.2f}").concat(i," ").concat(a," ").concat(r," <extra></extra>"):" Between the years %{x} there was %{y:0.2f} ".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>")}},{key:"averageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i," ").concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>"):" Between %{customdata} there was %{y:0.2f} ".concat(this.SmallScreenBreak," ").concat(i," ").concat(r," ").concat(n," <extra></extra>")}},{key:"movingAverageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i," ").concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>"):" Between %{customdata} there was %{y:0.2f} ".concat(this.SmallScreenBreak," ").concat(i," ").concat(r," ").concat(n," <extra></extra>")}},{key:"legendEllapsedText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t=this.textUnitsWords();return"".concat(t," - ").concat(e.split(" ")[0].toLowerCase())}return this.season,"days"}},{key:"createlegendPerText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t="for ";return"ann"===this.season&&(t=""),"".concat(t).concat(e.split(" ")[0].toLowerCase())}return this.season,"per year"}},{key:"createYAxisText",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"Inches":"Temperature (°F)":(this.season,"Days")}},{key:"isAllZeros",value:function(){return 0===this.maxVal&&0===this.minVal}},{key:"hasData",value:function(){return!(Number.isNaN(this.maxVal)||Number.isNaN(this.minVal)||-999===this.maxVal&&-999===this.minVal||0===this.maxVal&&-999===this.minVal)}},{key:"computeMovingAverage",value:function(){var e=this.yvals,t=this.AverageMovingPeriod,a=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},r=[];if(t>e.length)return a(e);for(var n=0;n+t-1<e.length;n+=1)r.push(a(e.slice(n,n+t)));return r}},{key:"movingAverageXValues",value:function(){for(var e=this.xvals,t=this.AverageMovingPeriod,a=[],r=t-Math.floor(this.periodGroups/2)-1;r-t-1<e.length;r+=1)a.push(e[r]);return a}},{key:"xValsPeriodLabel",value:function(){var e=this,t=0;return this.xvals.map((function(a,r){if(0===r){var n=a+(e.periodGroups-1),i="".concat(a,"–").concat(n.toString().slice(-2));return t+=1,i}if(t===e.periodGroups-1){t=0;var o=a+(e.periodGroups-1),l="".concat(a,"–").concat(o.toString().slice(-2));return t+=1,l}return t+=1,""})).filter((function(e){return void 0!==e}))}},{key:"xValsPeriod",value:function(){var e=this,t=0,a=Math.floor(this.periodGroups/2);return this.xvals.map((function(r,n){return 0===n?r<=-50?void 0:r+a:t===e.periodGroups-1?(t=0,r<=-50?void 0:r+a):void(t+=1)})).filter((function(e){return void 0!==e}))}},{key:"yValsSumAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)}},{key:"yValsSumByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=a+=i<=-50?void 0:i,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a+=i,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"yValsAvgAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)/this.yvals.length}},{key:"yValsAvgByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=(a+=i<=-50?void 0:i)/e.periodGroups,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a/t,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"setXRange",value:function(e){this.xmin=e.xmin,this.xmax=e.xmax}},{key:"setTitle",value:function(e){this.chartTitle=e.chartTitle}},{key:"getXvalues",value:function(){for(var e=[],t=this.xmin;t<=this.xmax;t+=1)e.push(t.toString());return e}},{key:"getYvalues",value:function(){var e=[],t=this.xmin;for(this.yvals=this.yvals.map((function(e){var t=e;return e<0&&(t=void 0),t}));t<parseInt(this.xvals[0],10);)t+=1,e.push("0");for(var a=0;t<=parseInt(this.xvals[this.xvals.length-1],10);)e.push(this.yvals[a]),a+=1,t+=1;for(;t<=this.xmax;)t+=1,e.push("0");return e}},{key:"zeroOutChartData",value:function(){this.yvals=[0],this.yValsSumByPeriod=[0],this.yValsAvgByPeriod=[0],this.yRange=[0,4],this.yValsSumAll=1e-8,this.yValsAvgAll=1e-8}},{key:"getData",value:function(){if(this.hasData()&&!this.isAllZeros()||this.zeroOutChartData(),this.maxVal===-1/0)return[{}];switch(this.lineChart){case"year":return[this.traceAverageBar(),this.traceYearlyLine()];case"avg":return[this.traceYearlyBar(),this.traceAverageLine()];case"mavg":return[this.traceYearlyBar(),this.traceMovingAverageLine()];default:return[this.traceAverageBar(),this.traceYearlyLine()]}}},{key:"getLayout",value:function(){switch(this.lineChart){case"year":return this.layoutAverageBar();case"avg":case"mavg":return this.layoutYearBar();default:return this.layoutAverageBar()}}},{key:"traceAverageBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"5-Year Average (".concat(this.legendEllapsedText,")"),type:"histogram",histfunc:"avg",xbins:{start:this.xmin,end:this.xmax,size:5},nbinsx:0,x:this.xvals,y:this.getYvalues(),bargroupgap:5,marker:{line:{color:this.barColor,width:1},color:this.barColor},hoverinfo:"x+y",hovertemplate:this.averageBarText(),legendgroup:1,orientation:"v"}}},{key:"traceYearlyLine",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"scatter",x:this.xvals,y:this.getYvalues(),marker:{color:this.annualLineColor},line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"linear",simplify:!0},connectgaps:!0,hoverinfo:"x+y",hovertemplate:this.yearLineText()}}},{key:"traceYearlyBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"bar",x:this.xvals,y:this.getYvalues(),xbins:{start:this.xmin,end:this.xmax,size:5},marker:{line:{color:this.barColor,width:1},color:this.barColor},histfunc:"sum",hoverinfo:"x+y",legendgroup:1,orientation:"v",hovertemplate:this.yearBarText()}}},{key:"traceMovingAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5-Year moving average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsMovingAverage,y:this.yValsMovingAverage,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsMovingAverage.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2)," - ").concat(e-Math.floor(t.periodGroups/2)+t.AverageMovingPeriod)})),hoverinfo:"x+y",hovertemplate:this.movingAverageLineText()}}},{key:"traceAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5-Year average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsPeriod,y:this.yValsAvgByPeriod,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsPeriod.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2)," - ").concat(e-Math.floor(t.periodGroups/2)+t.periodGroups-1)})),hoverinfo:"x+y",hovertemplate:this.averageLineText()}}},{key:"layoutAverageBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"closest",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average days ".concat(this.yValsAvgAll.toFixed(1)),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:10,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}},{key:"layoutYearBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"x",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average ".concat(this.yValsAvgAll.toFixed(1)).concat(this.averageTextUnits),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:35,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}}])&&A(t.prototype,a),r&&A(t,r),e}(),V=a(439),E=a(479),N=a(438),k=a(437),O=a(444),L=Object(h.a)((function(e){return{formControl:{margin:e.spacing(0),minWidth:120,backgroundColor:"#E6E6E6"},menuItem:{textAlign:"left"},sandboxInputLabel:{color:"#5C5C5C"},sandboxErrorText:{backgroundColor:"#FBFCFE",margin:"0px",paddingTop:"3px"}}}));function j(e){var t,a,r,i=L(),o=e.items,l=e.controlName,s=e.value,c=e.disabled,u=e.missing,h=e.season,d=e.onChange,m="Select a Climate Variable"===l?e.replaceClimatevariableType:function(e){return e},p="Select a Location"===l?e.replaceLocationAbbreviation:function(e){return e},g="Select a Time Period"===l?e.replacePeriodType:function(e){return e},f="Select the Season"===l?e.replaceSeasonType:function(e){return e},v=u&&!c,y=v?n.a.createElement(k.a,{className:i.sandboxErrorText},l," is required"):"";"Select a Time Period"===l&&(t=o,a=h,r=x().filter((function(e){return e.season===a})),o=t.filter((function(e){return r.some((function(t){return t.value===e}))})));return n.a.createElement(N.a,{variant:"outlined",className:i.formControl,fullWidth:!0,disabled:c,error:v},n.a.createElement(V.a,{id:"demo-simple-select-outlined-label",className:i.sandboxInputLabel},l),n.a.createElement(O.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s,onChange:function(e){d(e.target.value)},label:l,className:i.menuItem},o.map((function(e){return n.a.createElement(E.a,{key:e,value:e,className:i.menuItem},function(e,t,a){switch(e){case"Select a Climate Variable":return m(t,a);case"Select a Location":return p(t);case"Select a Region":return n=r=t,"REGIONAL"===r.toUpperCase()&&(n="NCA Region"),n;case"Select a Time Period":return g(t,a);case"Select the Season":return f(t);default:return m(t,a)}var r,n}(l,e,h))}))),y)}j.propTypes={items:s.a.array,controlName:s.a.string,value:s.a.string,disabled:s.a.bool,season:s.a.string,missing:s.a.bool,replaceClimatevariableType:s.a.func,replaceLocationAbbreviation:s.a.func,replacePeriodType:s.a.func,replaceSeasonType:s.a.func,onChange:s.a.func};var M=a(473),B=a(200),R=a.n(B),F=a(89),z=a.n(F),I=a(146),W=a.n(I),G=Object(h.a)((function(e){return{sandboxAlertBox:{color:"#000000",position:"absolute",zIndex:"1000",width:"100%"},sandboxAlertCollapse:{position:"relative",width:"calc(100% - 30px)",marginLeft:"-39px"}}}));function H(e){var t=G(),a=e.chartErrorTitle,r=e.chartErrorMessage,i=e.errorType,o=e.shouldOpenAlert,l=z.a[500],s=z.a[900],c=W.a[500],u=W.a[800];return n.a.createElement(M.a,{className:t.sandboxAlertCollapse,in:o},n.a.createElement(m.a,{className:t.sandboxAlertBox,bgcolor:function(e){switch(e){case"Error":return l;case"Warning":default:return c}}(i),color:"text.primary",p:1,mr:2,borderRadius:4,border:1,borderColor:function(e){switch(e){case"Error":return s;case"Warning":default:return u}}(i)},n.a.createElement(m.a,{fontWeight:"fontWeightBold",py:1,display:"flex"},n.a.createElement("div",{className:"sandbox-alert-icon"},n.a.createElement(R.a,null)),n.a.createElement("div",{className:"sandbox-alert-header"},a)),r))}H.propTypes={chartErrorTitle:s.a.string,chartErrorMessage:s.a.string,errorType:s.a.string,shouldOpenAlert:s.a.bool};var U=a(474),Y=a(69),J=a.n(Y),_=a(116),K=a.n(_),q=a(90),X=a.n(q),Z=a(440),$=a(478),Q=a(475),ee=a(481),te=function(){return[{name:"NCA",label:"NCA Standard (4:3)",dimensions:{width:1280,height:960}},{name:"Widescreen",label:"Widesceen (12:9)",dimensions:{width:1920,height:1080}}]};function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ie=Object(h.a)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"400px"},ne(t,e.breakpoints.down("sm"),{width:"80%"}),ne(t,"backgroundColor",e.palette.background.paper),ne(t,"border","0px solid transparent"),ne(t,"outline","unset"),ne(t,"borderRadius","4px"),ne(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:ne({marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(1)},exportForm:(a={display:"flex",flexDirection:"row"},ne(a,e.breakpoints.down("sm"),{flexDirection:"column"}),ne(a,"alignItems","flex-start"),ne(a,"justifyContent","flex-start"),ne(a,"width","100%"),ne(a,"marginTop",e.spacing(2)),ne(a,"marginBottom",e.spacing(2)),a),exportInput:ne({marginTop:e.spacing(3),marginRight:e.spacing(2),width:"45%"},e.breakpoints.down("sm"),{width:"100%"}),exportSmallButtonText:{marginLeft:e.spacing(1)},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)}}}));function oe(e){var t=ie(),a=e.open,i=e.handleCustomSizeClose,o=e.exportFunc,l=e.exportHeading,s=e.exportType,c=new te,u={name:"Default",dimensions:{width:1250,height:625}},h=function(){var e=document.querySelector(".js-plotly-plot .main-svg"),t=u.width,a=u.height;return e&&(t=e.getAttribute("width"),a=e.getAttribute("height")),{width:t,height:a}},d=ae(Object(r.useState)("Default"),2),m=d[0],p=d[1],g=Object(r.useRef)(m),f=h(),v=ae(Object(r.useState)(f.width),2),x=v[0],y=v[1],b=ae(Object(r.useState)(f.height),2),w=b[0],T=b[1],S=ae(Object(r.useState)(f.width),2),C=S[0],D=S[1],A=ae(Object(r.useState)(f.height),2),P=A[0],V=A[1];Object(r.useEffect)((function(){if("Default"===m){var e=h();D(parseInt(e.width,10)),V(parseInt(e.height,10))}}),[a]);var E=function e(t){return"Default"===t?e(m):c.filter((function(e){return e.name===t}))[0].dimensions};Object(r.useEffect)((function(){window.addEventListener("resize",(function(){if("Default"===g.current){var e=h();y(parseInt(e.width,10)),T(parseInt(e.height,10))}}))}),[]);var k=function(e){i(!1)},O=function(e){return m===e?"contained":"outlined"},L=function(e){var t;if(t=e.currentTarget.value,g.current=t,p(t),"Default"===e.currentTarget.value){var a=h();y(parseInt(a.width,10)),T(parseInt(a.height,10))}else{var r=E(e.currentTarget.value);y(parseInt(r.width,10)),T(parseInt(r.height,10))}};return n.a.createElement($.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:k,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.a.createElement("div",{className:t.exportModalDiv},n.a.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},n.a.createElement(J.a,{className:t.exportHeaderIcon})," ",l),n.a.createElement("div",{className:t.exportDescriptionText},"Change the dimensions of the exported chart"),n.a.createElement(U.a,{className:t.exportButtons,onClick:L,variant:O("Default"),color:"primary",value:"Default"},"Default Current Screen Size",n.a.createElement("small",{className:t.exportSmallButtonText},"(",C," x ",P,")")),c.map((function(e){return n.a.createElement(U.a,{key:e.name,className:t.exportButtons,onClick:L,variant:O(e.name),color:"primary",value:e.name},"Default"===(a=e.name)?"Default":c.filter((function(e){return e.name===a}))[0].label,n.a.createElement("small",{className:t.exportSmallButtonText},"(",E(e.name).width," x ",E(e.name).height,")"));var a})),n.a.createElement(N.a,{className:t.exportForm},n.a.createElement(Q.a,{className:t.exportInput,onChange:function(e){y(parseInt(e.currentTarget.value,10))},id:"outlined-number-width",variant:"outlined",label:"Width",type:"number",value:x,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(ee.a,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}}),n.a.createElement(Q.a,{className:t.exportInput,onChange:function(e){T(parseInt(e.currentTarget.value,10))},id:"outlined-number-height",variant:"outlined",label:"Height",type:"number",value:w,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(ee.a,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}})),n.a.createElement("div",{className:t.exportContainer},n.a.createElement("div",{className:t.exportStart},n.a.createElement(U.a,{className:t.exportButtons,onClick:function(){o(".js-plotly-plot .main-svg",x,w),setTimeout((function(){k()}),650)},color:"primary",variant:"contained",startIcon:n.a.createElement(J.a,null)},"Export ",s)),n.a.createElement("div",{className:t.exportEnd},n.a.createElement(U.a,{className:t.exportButtons,onClick:k,color:"default",variant:"contained"},"Cancel")))))}oe.propTypes={handleCustomSizeClose:s.a.func,exportFunc:s.a.func,exportHeading:s.a.string,exportType:s.a.string,open:s.a.bool};var le=a(202),se=a.n(le),ce=a(203),ue=a.n(ce),he=a(201),de=a.n(he);function me(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ve=a(190),xe=z.a[500],ye=de.a[700],be=Object(h.a)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"500px"},fe(t,e.breakpoints.down("sm"),{width:"80%"}),fe(t,"backgroundColor",e.palette.background.paper),fe(t,"border","0px solid transparent"),fe(t,"outline","unset"),fe(t,"borderRadius","4px"),fe(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:fe({marginBottom:e.spacing(2),fontSize:".9em"},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},exportForm:(a={display:"flex"},fe(a,e.breakpoints.down("sm"),{flexDirection:"column"}),fe(a,"alignItems","flex-start"),fe(a,"justifyContent","flex-start"),fe(a,"width","100%"),fe(a,"marginTop",e.spacing(2)),fe(a,"marginBottom",e.spacing(2)),a),exportInputVerify:{margin:e.spacing(1),marginBottom:e.spacing(2),width:"100%"},exportInput:{margin:e.spacing(1),width:"100%"},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)},exportMessage:{margin:e.spacing(1),width:"100%"},figureErrorText:{color:xe,marginLeft:e.spacing(2),marginTop:e.spacing(0),paddingTop:e.spacing(0)},messageSentText:{color:ye},messageSentFailedText:{color:xe},messageCheckCircleOutlineIcon:{color:ye,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"},messageHighlightOffIcon:{color:xe,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"}}}));function we(e){var t=be(),a=e.open,i=e.handleCloseFigure,o=pe(Object(r.useState)(""),2),l=o[0],s=o[1],c=pe(Object(r.useState)(""),2),u=c[0],h=c[1],d=pe(Object(r.useState)(window.location.href),2),p=d[0],g=d[1],f=Object(r.useRef)(p),v=pe(Object(r.useState)(""),2),x=v[0],y=v[1],b=pe(Object(r.useState)(""),2),w=b[0],T=b[1],S=pe(Object(r.useState)(!1),2),C=S[0],D=S[1],A=pe(Object(r.useState)(!0),2),P=A[0],V=A[1],E=pe(Object(r.useState)(!1),2),O=E[0],L=E[1],j=pe(Object(r.useState)(!1),2),B=j[0],R=j[1],F=pe(Object(r.useState)(!1),2),z=F[0],I=F[1],W=pe(Object(r.useState)(!1),2),G=W[0],H=W[1],Y=O?"":n.a.createElement(k.a,{style:{display:P?"none":"flex"},className:t.figureErrorText},u," address is not valid"),J=B?"":n.a.createElement(k.a,{style:{display:P?"none":"flex"},className:t.figureErrorText},"Name is required"),_={headers:{Accept:"*/*","content-type":"application/json"}},K=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.location.href,f.current=r,g(r),t=w,a={name:l,email:u,message:x,figureURL:f.current,AUTHOR_KEY:t},e.prev=4,e.next=7,ve.post("https://hh0t92676a.execute-api.us-east-1.amazonaws.com/dev/submit",JSON.stringify(a),_);case 7:return 200===e.sent.status?(I(!0),V(!0)):(H(!1),I(!1)),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(4),H(!1),I(!1),e.abrupt("return",!1);case 17:case"end":return e.stop()}var r}),e,null,[[4,12]])})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){me(i,r,n,o,l,"next",e)}function l(e){me(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=function(e){var t={AUTHOR_KEY:e};ve.post("https://hh0t92676a.execute-api.us-east-1.amazonaws.com/dev/verifyAuthor",t,_).then((function(e){return D(e.data.verifyAuthor),e.data.verifyAuthor})).catch((function(e){return D(!1),[""]}))},Z=function(e){var t=e.currentTarget.value;T(t),q(t)},ee=function(e){i(!1),I(!1)};return Object(r.useEffect)((function(){q(w),C&&V(!1),C||V(!0)}),[a]),Object(r.useEffect)((function(){C&&V(!1),C||V(!0)}),[C]),n.a.createElement($.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:ee,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.a.createElement("div",{className:t.exportModalDiv},n.a.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},n.a.createElement(X.a,{className:t.exportHeaderIcon})," ","Send to TSU"),n.a.createElement("div",{className:t.exportDescriptionText},"You must have an Author Key to sumbit the figure. Author keys cannot be requested and are only provied to selected NCA authors, by TSU."),n.a.createElement("div",{className:t.exportDescriptionText},"Once a valid Author key is entered, you can submit the current figure to TSU. Please note that you must include your email, name and any details about figure."),n.a.createElement(Q.a,{className:t.exportInputVerify,size:"small",id:"outlined-text-authorKey",required:!0,variant:"outlined",label:"Author Key",type:"text",value:w,onBlur:Z,onChange:Z,InputLabelProps:{shrink:!0}}),n.a.createElement(M.a,{in:z},n.a.createElement(m.a,{display:"flex",alignContent:"center"},n.a.createElement(se.a,{className:t.messageCheckCircleOutlineIcon}),n.a.createElement("h2",{id:"simple-modal-title",className:t.messageSentText},"Figure sumbitted successfully!"))),n.a.createElement(M.a,{in:G},n.a.createElement(m.a,{display:"flex",alignContent:"center"},n.a.createElement(ue.a,{className:t.messageHighlightOffIcon}),n.a.createElement("h2",{id:"simple-modal-title",className:t.messageSentFailedText},"Figure sumbitted failed, please try again!"))),n.a.createElement(M.a,{in:!P},n.a.createElement(N.a,{className:t.exportForm},n.a.createElement(Q.a,{className:t.exportInput,id:"outlined-text-name",size:"small",required:!0,variant:"outlined",label:"Name",type:"text",disabled:P,value:l,onChange:function(e){var t=e.currentTarget.value;R(t.length>=2),s(t)},error:!B,InputLabelProps:{shrink:!0}}),J,n.a.createElement(Q.a,{className:t.exportInput,id:"outlined-text-email",size:"small",required:!0,variant:"outlined",label:"Email",type:"text",disabled:P,value:u,onChange:function(e){var t=e.currentTarget.value;L(!(t.length<4)&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)),h(t)},error:!O,InputLabelProps:{shrink:!0}}),Y,n.a.createElement(Q.a,{className:t.exportMessage,id:"outlined-text-message",size:"small",variant:"outlined",label:"Details",type:"text",disabled:P,value:x,rows:4,multiline:!0,onChange:function(e){y(e.currentTarget.value)},InputLabelProps:{shrink:!0}}))),n.a.createElement("div",{className:t.exportContainer},n.a.createElement("div",{className:t.exportStart},n.a.createElement(U.a,{className:t.exportButtons,onClick:K,color:"primary",variant:"contained",disabled:P||!B||!O,startIcon:n.a.createElement(X.a,null)},"Submit Figure")),n.a.createElement("div",{className:t.exportEnd},n.a.createElement(U.a,{className:t.exportButtons,onClick:ee,color:"default",variant:"contained"},"Close")))))}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}we.propTypes={handleCloseFigure:s.a.func,open:s.a.bool};var De=Object(h.a)((function(e){var t,a,r,n;return{sandboxExportsButtonBox:Ce({justifyContent:"flex-end"},e.breakpoints.down("xs"),{margin:e.spacing(1),justifyContent:"unset"}),sandboxSelectedButton:Ce({justifyContent:"flex-end"},e.breakpoints.down("xs"),{justifyContent:"unset"}),fabsvg:(t={minWidth:"75px",margin:e.spacing(1)},Ce(t,e.breakpoints.down("md"),{fontSize:".80rem"}),Ce(t,e.breakpoints.down("xs"),{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),width:"100%"}),t),fabsvgLeft:(a={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(0),borderTopRightRadius:"0px",borderBottomRightRadius:"0px"},Ce(a,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Ce(a,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(1),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),a),fabsvgCenter:(r={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),borderRadius:"0px"},Ce(r,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Ce(r,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),r),fabsvgRight:(n={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"},Ce(n,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Ce(n,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),n),MenuItem:{textDecoration:"underline"},sandboxExportsButtonBoxForm:Ce({flexDirection:"inherit",justifyContent:"flex-end"},e.breakpoints.down("xs"),{flexDirection:"column",width:"100%"}),sandboxExportsButtonBoxFormLabel:{position:"absolute",left:"45%",top:e.spacing(-1.25),fontSize:"0.75rem",color:"#5C5C5C"}}}));function Ae(e){var t=De(),a=e.handleSwtichYearlyToLinea,r=e.handleSwtichAverageAndYearlya,i=e.handleSwtichMovingAverageAndYearlya,o=e.handleDownloadChartAsCSVa,l=e.handleDownloadChartAsPNGa,s=e.handleDownloadChartAsSVGa,c=e.lineChart,u=Te(n.a.useState(!1),2),h=u[0],p=u[1],g=Te(n.a.useState(!1),2),f=g[0],v=g[1],x=Te(n.a.useState(!1),2),y=x[0],b=x[1],w=function(e,t){switch(c){case"year":case"avg":case"mavg":default:return t===c?"sandbox-start-icon-selected":"sandbox-start-icon-not-selected"}};return n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-end",direction:"row"},n.a.createElement(d.a,{item:!0,xs:12,sm:12,md:6,width:"100%"},n.a.createElement(m.a,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},n.a.createElement(N.a,{component:"fieldset",variant:"outlined",className:t.sandboxExportsButtonBoxForm},n.a.createElement(Z.a,{component:"legend",className:t.sandboxExportsButtonBoxFormLabel},"Trendline"),n.a.createElement(U.a,{onClick:function(e){a(e.target.value)},classes:{root:"".concat(w(0,"year"))},className:t.fabsvgLeft,variant:"contained",color:"default",startIcon:n.a.createElement(K.a,null)},"Yearly"),n.a.createElement(U.a,{onClick:function(e){r(e.target.value)},classes:{root:"".concat(w(0,"avg"))},className:t.fabsvgCenter,variant:"contained",color:"default",startIcon:n.a.createElement(K.a,null)},"Average"),n.a.createElement(U.a,{onClick:function(e){i(e.target.value)},classes:{root:"".concat(w(0,"mavg"))},className:t.fabsvgRight,variant:"contained",color:"default",startIcon:n.a.createElement(K.a,null)},"Moving Average")))),n.a.createElement(d.a,{item:!0,xs:12,sm:12,md:6,width:"100%"},n.a.createElement(m.a,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},n.a.createElement(U.a,{onClick:function(e){o()},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(J.a,null)},".CSV"),n.a.createElement(U.a,{onClick:function(){window.dispatchEvent(new Event("resize")),v(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(J.a,null)},".PNG"),n.a.createElement(oe,{open:f,handleCustomSizeClose:function(){v(!1)},exportType:"PNG",exportHeading:"Export chart to PNG",exportFunc:function(e,t,a){l(e,t,a)}}),n.a.createElement(U.a,{onClick:function(){window.dispatchEvent(new Event("resize")),p(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(J.a,null)},".SVG"),n.a.createElement(oe,{open:h,handleCustomSizeClose:function(){p(!1)},exportType:"SVG",exportHeading:"Export chart to SVG",exportFunc:function(e,t,a){s(e,t,a)}}),n.a.createElement(U.a,{onClick:function(){b(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(X.a,null)},"To TSU"),n.a.createElement(we,{open:y,handleCloseFigure:function(){b(!1)}}))))}function Pe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ae.propTypes={handleSwtichYearlyToLinea:s.a.func,handleSwtichAverageAndYearlya:s.a.func,handleSwtichMovingAverageAndYearlya:s.a.func,handleDownloadChartAsCSVa:s.a.func,handleDownloadChartAsPNGa:s.a.func,handleDownloadChartAsSVGa:s.a.func,lineChart:s.a.string,onChange:s.a.func};var Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undefined=void 0}var t,a,r;return t=e,(a=[{key:"parseFile",value:function(e,t,a){for(var r=[],n=[],i=e.split(/\r?\n/),o=i[0].split(","),l=0;l<o.length;l+=1)o[l]=o[l].trim();var s=this.undefined;if("national"===t)s=1;else if("regional"===t||"state"===t)for(var c=1;c<o.length;c+=1)if(o[c].toUpperCase()===a.toUpperCase()){s=c;break}for(var u=1;u<i.length;u+=1){var h=i[u].split(",");if(h.length<=1)break;var d=parseInt(h[0],10),m=parseFloat(h[s]);r.push(d),n.push(m)}return[r,n]}}])&&Pe(t.prototype,a),r&&Pe(t,r),e}();function Ee(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=[{value:"AK",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"AL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AZ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"DE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"FL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"GA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"HI",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"ID",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IA",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"LA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ME",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NJ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NM",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ND",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OK",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PR",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"RI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TX",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"UT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"National",region:"National",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Midwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Alaska",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Hawaii",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Puerto Rico",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]}]}var t,a,r;return t=e,(a=[{key:"getDefaultPeriod",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].defaultPeriod:[{}]}},{key:"getInValidClimateVariables",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidClimateVariables:[{}]}},{key:"getInValidPeriods",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidPeriods:[{}]}}])&&Ee(t.prototype,a),r&&Ee(t,r),e}(),ke=function(){return["National","Regional","State"]},Oe=function(){return["1900-current","1950-current","1895-current"]},Le=function(){return["yearly","ann","djf","mam","jja","son"]},je=function(){return["Northeast","Southeast","Midwest","Northern Great Plains","Northwest","Southwest","Southern Great Plains","Alaska","Hawaii","Puerto Rico"]},Me=function(){return["AK","AL","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VA","VI","WA","WV","WI","WY"]};a(432);function Be(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ie=ke(),We=Oe(),Ge=Le(),He=je(),Ue=Me(),Ye=a(190),Je=Object(h.a)((function(e){var t,a,r;return{sandboxRoot:ze({backgroundColor:"#FFFFFF",color:"#5C5C5C",height:"calc(100vh - 20px)"},e.breakpoints.down("xs"),{overflow:"scroll"}),sandboxHeader:ze({height:"".concat(50,"px"),maxHeight:"".concat(50,"px"),color:"#5C5C5C"},e.breakpoints.down("xs"),{height:"".concat(75,"px"),maxHeight:"".concat(75,"px")}),sandboxSelectionArea:(t={maxHeight:"200px",backgroundColor:"#FBFCFE",border:"1px solid ".concat("#E6E6E6"),borderRadius:"4px"},ze(t,e.breakpoints.down("sm"),{height:"".concat(337.5,"px"),maxHeight:"".concat(337.5,"px")}),ze(t,e.breakpoints.down("xs"),{height:"".concat(800,"px"),minHeight:"".concat(800,"px")}),t),sandboxSelectionAreaHolder:(a={display:function(e){return"yes"===e.chartOnly?"none":"inherit"},margin:"6px"},ze(a,e.breakpoints.down("sm"),{height:"".concat(337.5,"px"),maxHeight:"".concat(337.5,"px")}),ze(a,e.breakpoints.down("xs"),{height:"".concat(800,"px"),maxHeight:"".concat(800,"px")}),a),sandboxChartRegion:ze({height:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 210px)"},maxHeight:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 210px)"},minHeight:"".concat(400,"px")},e.breakpoints.down("sm"),{height:"".concat(575,"px !important"),maxHeight:"".concat(575,"px !important")}),sandboxChartRegionBox:ze({height:"calc(100% - 10px)"},e.breakpoints.down("sm"),{height:"575px"}),sandboxExports:(r={height:"".concat(75,"px"),maxHeight:"".concat(75,"px")},ze(r,e.breakpoints.down("sm"),{height:"".concat(150,"px"),maxHeight:"".concat(150,"px")}),ze(r,e.breakpoints.down("xs"),{height:"".concat(350,"px"),maxHeight:"".concat(350,"px")}),r),extendedIcon:{marginRight:e.spacing(1)}}}));function _e(){var e=new URLSearchParams(window.location.search),t=e.get("region")?e.get("region"):"",a=e.get("location")?e.get("location"):"",i=e.get("climatevariable")?e.get("climatevariable"):"",o=e.get("period")?e.get("period"):"1900-current",l=e.get("line")?e.get("line"):"year",s=e.get("season")?e.get("season"):"yearly",c=e.get("chartonly")?e.get("chartonly"):"no",h=!0,p=!0,v=!0,x=!0,y=[""];switch(t){case"National":h=!1,v=!1,x=!1;break;case"Regional":y=He,p=!1,h=!1,v=!1,x=!1;break;case"State":y=Ue,p=!1,h=!1,v=!1,x=!1;break;default:h=!0,p=!0,v=!0,x=!0}var b=Re(Object(r.useState)(!0),2),w=b[0],T=b[1],C=Re(Object(r.useState)(!1),2),D=C[0],A=C[1],V=Re(Object(r.useState)("Chart Error"),2),E=V[0],N=V[1],k=Re(Object(r.useState)("Error"),2),O=k[0],L=k[1],M=Re(Object(r.useState)("Error"),2),B=M[0],R=M[1],F=Re(Object(r.useState)(t),2),z=F[0],I=F[1],W=Re(Object(r.useState)(a),2),G=W[0],U=W[1],Y=Re(Object(r.useState)(i),2),J=Y[0],_=Y[1],K=Re(Object(r.useState)(o),2),q=K[0],X=K[1],Z=Re(Object(r.useState)(s),2),$=Z[0],Q=Z[1],ee=Re(Object(r.useState)(l),2),te=ee[0],ae=ee[1],re=Re(Object(r.useState)(c),2),ne=re[0],ie=re[1],oe=Re(Object(r.useState)([{}]),2),le=oe[0],se=oe[1],ce=Re(Object(r.useState)({yaxis:{rangemode:"tozero",title:"Days"},xaxis:{rangemode:"tozero"}}),2),ue=ce[0],he=ce[1],de=Re(Object(r.useState)([""]),2),me=de[0],pe=de[1],ge=Re(Object(r.useState)(y),2),fe=ge[0],ve=ge[1],xe=Re(Object(r.useState)([""]),2),ye=xe[0],be=xe[1],we=Re(Object(r.useState)(p),2),Te=we[0],Se=we[1],Ce=Re(Object(r.useState)(h),2),De=Ce[0],Pe=Ce[1],Ee=Re(Object(r.useState)(v),2),ke=Ee[0],Oe=Ee[1],Le=Re(Object(r.useState)(x),2),je=Le[0],Me=Le[1],Fe=Je({chartOnly:ne}),ze=function(e){return(new S).getLocationDownText(e)},_e=function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.climateDataFilesJSONFile,l=e.chartLineChart,s=e.chartOnlyProp;!function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.chartLineChart,l=e.chartOnlyProp,s=new URLSearchParams;s.set("region",t),s.set("location",a),s.set("climatevariable",r),s.set("period",n),s.set("season",i),s.set("line",o),s.set("chartonly",l);var c="?".concat(s.toString());window.history.replaceState({},document.title,c)}({chartDataRegion:t,chartDataLocation:a,chartDataClimatevariable:r,chartDataPeriod:n,chartDataSeason:i,chartLineChart:l,chartOnlyProp:s});var c=o.filter((function(e){return e.period===n&&e.type===r&&e.season===i})).map((function(e){return e.name})),u="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname);return t&&("National"===t||a)&&r&&n&&i?(Ye.get("".concat(u,"/sandboxdata/TSU_Sandbox_Datafiles/").concat(c)).then((function(e){var s,c=(new Ve).parseFile(e.data,t.toLowerCase(),a),u=(s=r,["inch","pcpn"].some((function(e){return s.indexOf(e)>=0}))?"Precipitation":"Temperature"),h=new S(r),d=ze(a),m=h.getChartTitle({climatevariable:r,region:t,titleLocation:d,chartDataSeason:i}),p=h.getClimateVariablePullDownText(r,i),g=h.getPeriodRange(n),f=!1;o||(f=!0),t||(f=!0),"National"===t||a||(f=!0),r||(f=!0),n||(f=!0),i||(f=!0);var v={xvals:c[0],yvals:c[1],xmin:g[0],xmax:g[1],chartTitle:m,legnedText:u,chartType:u,climatevariable:p,chartLineChart:l,dataMissing:f,season:i},x=new P(v);f&&x.zeroOutChartData();var y={locationLimit:"National"===t?"National":a},b=new Ne;b.getDefaultPeriod(y),b.getInValidClimateVariables(y),b.getInValidPeriods(y);x.hasData()||f?x.isAllZeros()&&!f?(A(!0),R("Warning"),L("Warning data is all zeros"),N("Warning the chart data for ".concat(m," contains all zeros (0)."))):A(!1):(A(!0),R("Error"),L("Error data not available"),N("Unfortunately, there is no data available for ".concat(p,"\n            for ").concat(d,". To resolve this issue, try one or all of these three actions.\n            1) Change the location.\n            2) Change the climate variable.\n            3) Change the time period")));var w={xmin:g[0],xmax:g[1]};return x.setXRange(w),se(x.getData()),he(x.getLayout()),x})).catch((function(e){console.error("SanboxControls.updatePlotData() error=".concat(e))})),null):null},Ke=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),e.next=3,Ye.get("".concat(n,"/sandboxdata/TSU_Sandbox_Datafiles/index.json")).then((function(e){var n={};switch(t){case"National":n=e.data.national;break;case"Regional":n=e.data.regional;break;case"State":n=e.data.state;break;default:n=e.data.national}pe(n);var i=n.filter((function(e){return e.period===a&&e.season===r})).map((function(e){return e.type}));return be(i),w&&_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:n,chartLineChart:te,chartOnlyProp:ne}),n})).catch((function(e){return console.error("SanboxControls loadData error: ".concat(e)),[""]}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){Be(i,r,n,o,l,"next",e)}function l(e){Be(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(e,a,r){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){Ke(z,q,$,w)}),[$]),Object(r.useEffect)((function(){Ke(z,q,$,w)}),[z]),Object(r.useEffect)((function(){Ke(z,q,$,w),T(!1)}),[w]);var qe=function(e,t){return(new S).getClimateVariablePullDownText(e,t)},Xe=function(e){var t=e.querySelector(".infolayer .g-gtitle .gtitle");if(t){var a=t.getAttribute("data-unformatted").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","");return e.querySelector(".infolayer .g-gtitle .gtitle").setAttribute("data-unformatted",a),e}return e},Ze=function(e){var t=Array.from(document.querySelectorAll(e)),a=document.createElement("div");a.setAttribute("id","merged-div");var r=document.createElement("svg"),n=t[0].getAttribute("width"),i=t[0].getAttribute("height");r.setAttribute("xmlns",t[0].getAttribute("xmlns")),r.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),r.setAttribute("width",n),r.setAttribute("height",i),r.setAttribute("style",t[0].getAttribute("style")),a.appendChild(r),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){if(!e.classList.contains("draglayer")){var t=e.cloneNode(!0),a=Xe(t);r.appendChild(a)}}))}));var o=btoa(unescape(encodeURIComponent(r.outerHTML)));return a.remove(),o},$e=function(){var e=new S("").getChartTitle({climatevariable:J,region:z,titleLocation:ze(G),chartDataSeason:$});return"".concat(e)},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svg",a=document.createElement("a"),r=new MouseEvent("click");if(a.download="".concat($e(),".").concat(t),"svg"===t){var n="data:image/svg+xml;base64,";a.href="".concat(n).concat(e)}else a.href=e;return a.dispatchEvent(r),a.remove(),null},et=function(e,t,a){var r=document.querySelector(e);if(r){var n=r.getAttribute("width"),i=r.getAttribute("height");if(Number(n)===Number(t)&&Number(i)===Number(a))return!1}return!0},tt=function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=document.querySelector(e);if(r){var n=et(e,t,a);if(!n){var i=Ze(e);return Qe(i),null}}var o=document.querySelector(".PlotRegionDiv").parentElement,l=document.querySelector(".user-select-none.svg-container"),s=o.getAttribute("width"),c=o.getAttribute("height"),u=l.getAttribute("width"),h=l.getAttribute("height");t>0&&a>0&&(o.style.width="".concat(t,"px"),l.style.width="".concat(t,"px"),o.style.height="".concat(a,"px"),l.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize")),setTimeout((function(){var t=Ze(e);return Qe(t),o.style.width=s,l.style.width=u,o.style.height=c,l.style.height=h,window.dispatchEvent(new Event("resize")),null}),500))}(e,t,a)};return n.a.createElement("div",{className:Fe.sandboxRoot},n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:Fe.sandboxRoot},n.a.createElement(d.a,{item:!0,xs:12,width:"100%",className:Fe.sandboxSelectionAreaHolder},n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:Fe.sandboxSelectionArea},n.a.createElement(d.a,{item:!0,xs:12,className:Fe.sandboxHeader,width:"100%"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",mt:1,p:0,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(m.a,{onClick:tt,px:1,fontSize:"h4.fontSize"},n.a.createElement(g.a,{fontSize:"large",className:"sandbox-header-icon"})),n.a.createElement(m.a,{px:1,fontSize:"h5.fontSize"},"NCA Sandbox - Climate Charts"))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",m:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(j,{items:Ie,controlName:"Select a Region",onChange:function(e){switch(I(e),e){case"National":ve([""]),U(""),Se(!0),Pe(!1),Oe(!1),Me(!1);break;case"Regional":ve(He),U(""),Se(!1),Pe(!1),Oe(!1),Me(!1);break;case"State":ve(Ue),U(""),Se(!1),Pe(!1),Oe(!1),Me(!1);break;default:ve([""]),U(""),Se(!0),Pe(!0),Oe(!0),Me(!0)}ie("no"),_e({chartDataRegion:e,chartDataLocation:"",chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:te,chartOnlyProp:"no"})},value:z,disabled:!1,season:$,missing:!z,replaceClimatevariableType:qe}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",m:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(j,{items:fe,controlName:"Select a Location",onChange:function(e){U(e),ie("no"),_e({chartDataRegion:z,chartDataLocation:e,chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:te,chartOnlyProp:"no"})},value:G,season:$,disabled:Te,missing:"National"!==z&&!G,replaceClimatevariableType:qe,replaceLocationAbbreviation:ze}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",m:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(j,{items:Ge,controlName:"Select the Season",onChange:function(e){var t=$;Q(e);var a=q,r=J;return"yearly"===e||"1900-current"!==q&&"1950-current"!==q||(X("1895-current"),a="1895-current"),"yearly"===e&&"1895-current"===q&&(X("1900-current"),a="1900-current"),"yearly"===t&&"yearly"!==e&&(_("tmpc"),r="tmpc"),"yearly"!==t&&"yearly"===e&&(_("1inch"),r="1inch"),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:r,chartDataPeriod:a,chartDataSeason:e,climateDataFilesJSONFile:me,chartLineChart:te,chartOnlyProp:"no"}),null},value:$,disabled:je,missing:!$,season:$,replaceClimatevariableType:qe,replaceSeasonType:function(e){return(new S).getSeasonPullDownText(e)}}))),n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",m:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(j,{items:ye,controlName:"Select a Climate Variable",onChange:function(e){return _(e),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:e,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:te,chartOnlyProp:"no"}),null},value:J,season:$,disabled:De,missing:!J,replaceClimatevariableType:qe}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",m:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(j,{items:We,controlName:"Select a Time Period",onChange:function(e){return X(e),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:J,chartDataPeriod:e,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:te,chartOnlyProp:"no"}),null},value:q,disabled:ke,missing:!q,season:$,replaceClimatevariableType:qe,replacePeriodType:function(e,t){return(new S).getPeriodPullDownText(e,t)}}))),n.a.createElement(d.a,{item:!0,xs:12,className:Fe.sandboxExports},n.a.createElement(Ae,{handleDownloadChartAsCSVa:function(){var e,t,a,r,n,i,o,l,s,c=[(i=le[0].x,o=le[0].y,e=i.map((function(e,t){return{year:e,value:o[t]}})),t=e,a=function(e,t){return null===t?"":t},r=Object.keys(t[0]),n=t.map((function(e){return r.map((function(t){return JSON.stringify(e[t],a).replace(/\\"/g,'""')})).join(",")})),n.unshift(r.join(",")),n=n.join("\r\n"))],h="".concat(z,"-").concat(G,"-").concat(J,"-").concat(q,".csv");l=h,s=new Blob(c,{type:"text/csv;charset=utf-8"}),u.a.saveAs(s,l)},handleDownloadChartAsPNGa:function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=document.querySelector(".PlotRegionDiv").parentElement,n=document.querySelector(".user-select-none.svg-container"),i=et(e,t,a),o=r.getAttribute("width"),l=r.getAttribute("height"),s=n.getAttribute("width"),c=n.getAttribute("height");i&&(r.style.width="".concat(t,"px"),n.style.width="".concat(t,"px"),r.style.height="".concat(a,"px"),n.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize"))),setTimeout((function(){var t=Array.from(document.querySelectorAll(e)),a=t[0].getAttribute("width"),u=t[0].getAttribute("height"),h=document.createElement("div");h.setAttribute("id","merged-div");var d=document.createElement("svg");d.setAttribute("xmlns",t[0].getAttribute("xmlns")),d.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),d.setAttribute("width",a),d.setAttribute("height",u),d.setAttribute("style",t[0].getAttribute("style")),h.appendChild(d),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){var t=e.cloneNode(!0),a=Xe(t);d.appendChild(a)}))}));var m=new Blob([d.outerHTML],{type:"image/svg+xml;charset=utf-8"}),p=(window.URL||window.webkitURL||window).createObjectURL(m),g=new Image;g.onload=function(){var e=document.createElement("canvas");e.width=a,e.height=u,e.getContext("2d").drawImage(g,0,0,a,u);var t=e.toDataURL();Qe(t,"png"),i&&(r.style.width=o,n.style.width=s,r.style.height=l,n.style.height=c,window.dispatchEvent(new Event("resize")))},g.src=p}),500)}(e,t,a)},handleDownloadChartAsSVGa:tt,handleSwtichAverageAndYearlya:function(){return ae("avg"),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:"avg",chartOnlyProp:"no"}),null},handleSwtichMovingAverageAndYearlya:function(){return ae("mavg"),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:"mavg",chartOnlyProp:"no"}),null},handleSwtichYearlyToLinea:function(){return ae("year"),ie("no"),_e({chartDataRegion:z,chartDataLocation:G,chartDataClimatevariable:J,chartDataPeriod:q,chartDataSeason:$,climateDataFilesJSONFile:me,chartLineChart:"year",chartOnlyProp:"no"}),null},handleMailToTSUa:function(){var e=new S,t=document.createElement("a"),a=e.getChartTitle({climatevariable:J,region:z,titleLocation:G,chartDataSeason:$}),r="I created a chart to show the ".concat(a,", using the NCA Sandbox. Here is a link to the chart: \n ").concat(encodeURIComponent(window.location.href));t.href="mailto:mail@example.org?subject=".concat("Here is my chart for the NCA","&body=").concat(r);var n=new MouseEvent("click");return t.dispatchEvent(n),t.remove(),null},lineChart:te})))),n.a.createElement(d.a,{item:!0,xs:12,display:"flex",flex:1,className:Fe.sandboxChartRegion},n.a.createElement(m.a,{display:"flex",flexDirection:"row",m:1,width:1,justifyContent:"center",flex:1,flexGrow:3},n.a.createElement(H,{shouldOpenAlert:D,errorType:B,chartErrorTitle:O,chartErrorMessage:E})),n.a.createElement(m.a,{display:"flex",flexDirection:"row",m:1,justifyContent:"center",flex:1,flexGrow:3,className:Fe.sandboxChartRegionBox},n.a.createElement(f.default,{plotlyData:le,plotlyLayout:ue})))))}function Ke(){return n.a.createElement("div",{className:"sandbox-holderofall"},n.a.createElement(_e,null))}_e.propTypes={chartDataRegion:s.a.string,chartDataLocation:s.a.string,chartDataClimatevariable:s.a.string,chartDataPeriod:s.a.string,chartDataSeason:s.a.string,climateDataFilesJSONFile:s.a.object,chartLineChart:s.a.string,chartOnlyProp:s.a.string},o.a.render(n.a.createElement(Ke,null),document.querySelector("#root"))}},[[435,0,1,4]]]);