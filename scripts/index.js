(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2],{109:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var r=a(0),n=a.n(r),i=a(110),o=a.n(i),l=a(111),s=a.n(l),c=a(2),u=a.n(c);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=s()(o.a);function x(e){var t=e.plotlyData,a=g({},{responsive:!0,displayModeBar:!1}),r=n.a.useRef(),i=d(n.a.useState(g({},e.plotlyLayout)),2),o=i[0],l=i[1],s=n.a.useRef(o),c=function(e){s.current=e,l(e)},u=function(){var e=r.current;if(!e)return null;var t=e,a=s.current;a.width=t.parentNode.getBoundingClientRect().width,a.height=t.getBoundingClientRect().height-24;var n,i=window.innerWidth<=1e3?90:0,o=window.innerWidth<=768?10:5,l=window.innerWidth<=768?.5:.4;if(a.xaxis&&(a.xaxis.tickangle=i,a.xaxis.dtick=o),a.legend&&(a.legend.x=window.innerWidth<=768?0:.65,a.legend.y=window.innerWidth<=768?-.15:1.125),a.title){var u=a?(n=a.title.text).indexOf("<br>",0)>0&&window.innerWidth<=768?n:n.replace("<br>"," "):"",h=function(e){if(e.indexOf("<br>",0)>0)return e;for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}(u);a.title.text=window.innerWidth<=768?h:u,a.title.x=l}return c(g({},a)),window.dispatchEvent(new Event("resizedone")),null};return n.a.useLayoutEffect((function(){c(e.plotlyLayout),u()}),[e.plotlyLayout]),n.a.useEffect((function(){return window.addEventListener("resize",u),function(){window.removeEventListener(u)}}),[]),n.a.createElement("div",h({className:"PlotRegionDiv"},{ref:r}),n.a.createElement(v,{data:t,layout:s.current,config:a,revision:Math.floor(1e5*Math.random())}))}x.propTypes={plotlyLayout:u.a.object,plotlyData:u.a.array}},448:function(e,t,a){"use strict";var r=a(449)(e.i,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},451:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(14),o=a.n(i),l=(a(240),a(2)),s=a.n(l),c=a(210),u=a.n(c),h=a(487),d=a(498),m=a(500),p=a(217),g=a.n(p),f=a(502),v=a(493),x=a(503),y=a(504),b=a(499),w=a(459),T=a(218),D=a.n(T),C=a(109),S=(new Date).getFullYear()-1,A=function(){return[{value:"1900-current",pullDownText:"1900—".concat(S),range:[1900,S],season:"yearly"},{value:"1950-current",pullDownText:"1950—".concat(S),range:[1950,S],season:"yearly"},{value:"1895-current",pullDownText:"1895—".concat(S),range:[1895,S],season:"ann"},{value:"1895-current",pullDownText:"1895—".concat(S),range:[1895,S],season:"djf"},{value:"1895-current",pullDownText:"1895—".concat(S),range:[1895,S],season:"mam"},{value:"1895-current",pullDownText:"1895—".concat(S),range:[1895,S],season:"jja"},{value:"1895-current",pullDownText:"1895—".concat(S),range:[1895,S],season:"son"}]},P=function(){return[{value:"1inch",pullDownText:"Days with Precipitation Greater than 1 inch",chartTitle:"Number of Days with Precipitation Greater than 1 inch",season:"yearly"},{value:"2inch",pullDownText:"Days with Precipitation Greater than 2 inches",chartTitle:"Number of Days with Precipitation Greater than 2 inches",season:"yearly"},{value:"3inch",pullDownText:"Days with Precipitation Greater than 3 inches",chartTitle:"Number of Days with Precipitation Greater than 3 inches",season:"yearly"},{value:"4inch",pullDownText:"Days with Precipitation Greater than 4 inches",chartTitle:"Number of Days with Precipitation Greater than 4 inches",season:"yearly"},{value:"tmax0F",pullDownText:"Days with Maximum Temperature Below 0°F",chartTitle:"Number of Days with Maximum Temperature Below 0°F",season:"yearly"},{value:"tmax32F",pullDownText:"Days with Maximum Temperature Below 32°F",chartTitle:"Number of Days with Maximum Temperature Below 32°F",season:"yearly"},{value:"tmax90F",pullDownText:"Days with Maximum Temperature Above 90°F",chartTitle:"Number of Days with Maximum Temperature Above 90°F",season:"yearly"},{value:"tmax95F",pullDownText:"Days with Maximum Temperature Above 95°F",chartTitle:"Number of Days with Maximum Temperature Above 95°F",season:"yearly"},{value:"tmax100F",pullDownText:"Days with Maximum Temperature Above 100°F",chartTitle:"Number of Days with Maximum Temperature Above 100°F",season:"yearly"},{value:"tmin0F",pullDownText:"Days with Minimum Temperature Below 0°F",chartTitle:"Number of Days with Minimum Temperature Below 0°F",season:"yearly"},{value:"tmin32F",pullDownText:"Days with Minimum Temperature Below 32°F",chartTitle:"Number of Days with Minimum Temperature Below 32°F",season:"yearly"},{value:"tmin70F",pullDownText:"Days with Minimum Temperature Above 70°F",chartTitle:"Number of Days with Minimum Temperature Above 70°F",season:"yearly"},{value:"tmin75F",pullDownText:"Days with Minimum Temperature Above 75°",chartTitle:"Number of Days with Minimum Temperature Above 75°",season:"yearly"},{value:"tmin80F",pullDownText:"Days with Minimum Temperature Above 80°F",chartTitle:"Number of Days with Minimum Temperature Above 80°F",season:"yearly"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Annual (Jan—Dec) Total Precipitation",season:"ann"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Annual (Jan—Dec) Average Temperature",season:"ann"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Annual (Jan—Dec) Average Minimum Temperature",season:"ann"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Annual (Jan—Dec) Average Maximum Temperature",season:"ann"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Winter (Dec, Jan, Feb) Total Precipitation",season:"djf"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Temperature",season:"djf"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Minimum Temperature",season:"djf"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Maximum Temperature",season:"djf"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Spring (Mar, Apr, May) Total Precipitation",season:"mam"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Spring (Mar, Apr, May) Average Temperature",season:"mam"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Spring (Mar, Apr, May) Average Minimum Temperature",season:"mam"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Spring (Mar, Apr, May) Average Maximum Temperature",season:"mam"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Summer (Jun, Jul, Aug) Total Precipitation",season:"jja"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Temperature",season:"jja"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Minimum Temperature",season:"jja"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Maximum Temperature",season:"jja"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Fall (Sep, Oct, Nov) Total Precipitation",season:"son"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Temperature",season:"son"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Minimum Temperature",season:"son"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Maximum Temperature",season:"son"},{value:"cdd",pullDownText:"Cooling Degree Days",chartTitle:"Annual (Jan—Dec) Cooling Degree Days",season:"ann"},{value:"cdd",pullDownText:"Cooling Degree Days",chartTitle:"Winter (Dec, Jan, Feb) Cooling Degree Days",season:"djf"},{value:"cdd",pullDownText:"Cooling Degree Days",chartTitle:"Spring (Mar, Apr, May) Cooling Degree Days",season:"mam"},{value:"cdd",pullDownText:"Cooling Degree Days",chartTitle:"Summer (Jun, Jul, Aug) Cooling Degree Days",season:"jja"},{value:"cdd",pullDownText:"Cooling Degree Days",chartTitle:"Fall (Sep, Oct, Nov) Cooling Degree Days",season:"son"},{value:"hdd",pullDownText:"Heating Degree Days",chartTitle:"Annual (Jan—Dec) Heating Degree Days",season:"ann"},{value:"hdd",pullDownText:"Heating Degree Days",chartTitle:"Winter (Dec, Jan, Feb) Heating Degree Days",season:"djf"},{value:"hdd",pullDownText:"Heating Degree Days",chartTitle:"Spring (Mar, Apr, May) Heating Degree Days",season:"mam"},{value:"hdd",pullDownText:"Heating Degree Days",chartTitle:"Summer (Jun, Jul, Aug) Heating Degree Days",season:"jja"},{value:"hdd",pullDownText:"Heating Degree Days",chartTitle:"Fall (Sep, Oct, Nov) Heating Degree Days",season:"son"}]},V=function(){return[{value:"AK",pullDownText:"Alaska"},{value:"AL",pullDownText:"Alabama"},{value:"AZ",pullDownText:"Arizona"},{value:"AR",pullDownText:"Arkansas"},{value:"CA",pullDownText:"California"},{value:"CO",pullDownText:"Colorado"},{value:"CT",pullDownText:"Connecticut"},{value:"DE",pullDownText:"Delaware"},{value:"FL",pullDownText:"Florida"},{value:"GA",pullDownText:"Georgia"},{value:"HI",pullDownText:"Hawai'i"},{value:"ID",pullDownText:"Idaho"},{value:"IL",pullDownText:"Illinois"},{value:"IN",pullDownText:"Indiana"},{value:"IA",pullDownText:"Iowa"},{value:"KS",pullDownText:"Kansas"},{value:"KY",pullDownText:"Kentucky"},{value:"LA",pullDownText:"Louisiana"},{value:"ME",pullDownText:"Maine"},{value:"MD",pullDownText:"Maryland"},{value:"MA",pullDownText:"Massachusetts"},{value:"MI",pullDownText:"Michigan"},{value:"MN",pullDownText:"Minnesota"},{value:"MS",pullDownText:"Mississippi"},{value:"MO",pullDownText:"Missouri"},{value:"MT",pullDownText:"Montana"},{value:"NE",pullDownText:"Nebraska"},{value:"NV",pullDownText:"Nevada"},{value:"NH",pullDownText:"New Hampshire"},{value:"NJ",pullDownText:"New Jersey"},{value:"NM",pullDownText:"New Mexico"},{value:"NY",pullDownText:"New York"},{value:"NC",pullDownText:"North Carolina"},{value:"ND",pullDownText:"North Dakota"},{value:"OH",pullDownText:"Ohio"},{value:"OK",pullDownText:"Oklahoma"},{value:"OR",pullDownText:"Oregon"},{value:"PA",pullDownText:"Pennsylvania"},{value:"PR",pullDownText:"Puerto Rico"},{value:"RI",pullDownText:"Rhode Island"},{value:"SC",pullDownText:"South Carolina"},{value:"SD",pullDownText:"South Dakota"},{value:"TN",pullDownText:"Tennessee"},{value:"TX",pullDownText:"Texas"},{value:"UT",pullDownText:"Utah"},{value:"VT",pullDownText:"Vermont"},{value:"VA",pullDownText:"Virginia"},{value:"VI",pullDownText:"Virgin Islands"},{value:"WA",pullDownText:"Washington"},{value:"WV",pullDownText:"West Virginia"},{value:"WI",pullDownText:"Wisconsin"},{value:"WY",pullDownText:"Wyoming"},{value:"National",pullDownText:"National"},{value:"Northeast",pullDownText:"Northeast"},{value:"Southeast",pullDownText:"Southeast"},{value:"Midwest",pullDownText:"Midwest"},{value:"Northern Great Plains",pullDownText:"Northern Great Plains"},{value:"Northwest",pullDownText:"Northwest"},{value:"Southwest",pullDownText:"Southwest"},{value:"Southern Great Plains",pullDownText:"Southern Great Plains"},{value:"Alaska",pullDownText:"Alaska"},{value:"Hawaii",pullDownText:"Hawai'i and Pacific Islands"},{value:"Puerto Rico",pullDownText:"U.S. Caribbean (Includes Puerto Rico & USVI)"}]},E=function(){return[{value:"yearly",pullDownText:"Annual: Threshold Exceedances (Jan—Dec)"},{value:"ann",pullDownText:"Annual: Mean Temperature, Precipitation, or Degree Days (Jan—Dec)"},{value:"mam",pullDownText:"Spring: Mean Temperature, Precipitation, or Degree Days (Mar—May)"},{value:"jja",pullDownText:"Summer: Mean Temperature, Precipitation, or Degree Days (Jun—Aug)"},{value:"son",pullDownText:"Fall: Mean Temperature, Precipitation, or Degree Days (Sep—Nov)"},{value:"djf",pullDownText:"Winter: Mean Temperature, Precipitation, or Degree Days (Dec—Feb)"}]};function N(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.climateVariableValue=t,this.peroids=A(),this.climateVariableValueNames=P(),this.LocationNames=V(),this.seasons=E()}var t,a,r;return t=e,(a=[{key:"getChartTitle",value:function(e){if(!e.climatevariable)return"";var t=this.climateVariableValueNames.filter((function(t){return t.value===e.climatevariable&&t.season===e.chartDataSeason}))[0].chartTitle;return"National"===e.region&&(t="".concat(t," (National)")),"Regional"===e.region&&(t="".concat(t," (NCA Region ").concat(e.titleLocation,")")),"State"===e.region&&(t="".concat(t," (").concat(e.titleLocation,")")),t}},{key:"getClimateVariablePullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.climateVariableValueNames,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodPullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.peroids,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodRange",value:function(e){return e?this.peroids.filter((function(t){return t.value===e}))[0].range:""}},{key:"getSeasonPullDownText",value:function(e){return e?this.seasons.filter((function(t){return t.value===e}))[0].pullDownText:""}},{key:"getLocationDownText",value:function(e){if(!e)return"";var t=this.LocationNames.filter((function(t){return t.value.toUpperCase()===e.toUpperCase()})),a=e;return t[0]&&(a=t[0].pullDownText),a}}])&&N(t.prototype,a),r&&N(t,r),e}();function M(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function O(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.smallScreen=768,this.verySmallScreen=500,this.blue="4, 90, 141",this.red="189, 0, 38",this.green="127, 188, 65",this.brown="153, 52, 4",this.chartBackgroundColor="#FBFCFE",this.annualLineColor="#000000",this.precipitationColor="#5AB4AC",this.temperatureColor="#FEB24C",this.heatingDegreeColor="#DB1E1C",this.coolingDegreeColor="#2276B4",this.bargap=.15,this.showLegend=!0,this.legendBarLineX=window.innerWidth<=this.smallScreen?0:.65,this.legendBarLineY=window.innerWidth<=this.smallScreen?-.15:1.125,this.font="Arial",this.zeroLineColor="#000000",this.zerolinewidth="1.25",this.gridColor="#BFBFBF",this.SourceFontColor="#000000",this.AverageAllFontColor="#858585",this.AverageAllColor="#858585",this.AverageMovingColor="#858585",this.AverageAllWidth="6",this.AverageAllFontSize="14pt",this.AverageWidth="3",this.AverageColor="#000000",this.gridWidth="1",this.fontSizePrimary="14pt",this.fontSizeLabels="12pt",this.fontSizeLabelsSecondary="12pt",this.xmin=t.xmin,this.xmax=t.xmax,this.xvals=t.xvals,this.yvals=t.yvals,this.lineChart=t.chartLineChart,this.maxVal=Math.max.apply(Math,M(this.yvals)),this.minVal=Math.min.apply(Math,M(this.yvals)),this.shortTitle=e.splitTitle(t.chartTitle),this.chartTitle=window.innerWidth<=this.smallScreen?this.shortTitle:t.chartTitle,this.SmallScreenBreak=window.innerWidth<=this.smallScreen?"<br>":"",this.chartTitleX=window.innerWidth<=this.smallScreen?.5:.4,this.legnedText=t.legnedText,this.chartType=t.chartType,this.climatevariable=t.climatevariable,this.season=t.season,this.barColor=this.setChartColor(this.chartType),this.periodGroups=t.periodGroups?t.periodGroups:5,this.AverageMovingPeriod=5,this.textAngle=window.innerWidth<=1e3?90:0,this.dtick=window.innerWidth<=this.smallScreen?10:5,this.yValsSumByPeriod=this.yValsSumByPeriod(),this.yValsAvgByPeriod=this.yValsAvgByPeriod(),this.yValsMovingAverage=this.computeMovingAverage(),this.xValsMovingAverage=this.movingAverageXValues(),this.xValsPeriod=this.xValsPeriod();var a=this.yValsSumAll();this.yValsSumAll=a<=-50?void 0:a;var r=this.yValsAvgAll();this.yValsAvgAll=r<=-50?0:r;var n=this.minVal<0?0:this.minVal;this.prettyRange=e.pretty([n,this.maxVal]),this.yRange=[this.prettyRange[0],this.prettyRange[this.prettyRange.length-1]],this.yAxisText=this.createYAxisText(),this.legendPerText=this.createlegendPerText(),this.legendEllapsedText=this.legendEllapsedText(),this.averageTextUnits=this.averageTextUnits()}var t,a,r;return t=e,r=[{key:"splitTitle",value:function(e){if(!e)return"";for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}},{key:"pretty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(t,10)/3,n=.75,i=1.5,o=.5+1.5*i,l=Math.abs(e[0]-e[1]),s=l/t;Math.log(l)/Math.LN10<-2&&(s=Math.max(Math.abs(l))*n/r);var c=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=0;c<1&&(u=Math.abs(Math.round(Math.log(c)/Math.LN10)));var h=c;2*c-s<i*(s-h)&&5*c-s<o*(s-(h=2*c))&&10*c-s<i*(s-(h=5*c))&&(h=10*c);var d=[],m=0;for(e[0]<=h?m=0:(m=Math.floor(e[0]/h)*h,m=parseFloat(m.toFixed(u)));m<e[1];)d.push(m),m+=h,u>0&&(m=parseFloat(m.toFixed(u)));return d.push(m),a&&(d[0]<e[0]&&(d=d.slice(1)),d[d.length-1]>e[1]&&d.pop()),d}},{key:"uuidv",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}],(a=[{key:"setChartColor",value:function(e){switch(e){case"Precipitation":return this.precipitationColor;case"Temperature":return this.temperatureColor;case"CoolingDays":return this.coolingDegreeColor;case"HeatingDays":return this.heatingDegreeColor;default:return this.temperatureColor}}},{key:"hoverTemplateSeasonText",value:function(){var e=(new k).getSeasonPullDownText(this.season);return"yearly"!==this.season?"ann"===this.season?"annually":e.toLowerCase().split(" ")[0].replace(":",""):"year"}},{key:"hoverTemplateClimateVariableText",value:function(){return"yearly"!==this.season?this.climatevariable.toLowerCase():this.climatevariable.toLowerCase().replace("precipitation","precipitation").replace("minimum","the minimum").replace("maximum","the maximum")}},{key:"hoverTemplateSeasonTextPrefix",value:function(){return"yearly"!==this.season?"ann"===this.season?"":"during the":"for the"}},{key:"textUnitsWords",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"inches":"°F":(this.season,"days")}},{key:"averageTextUnits",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?'"':"°F":(this.season,"days")}},{key:"yearLineText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText().replace("°f","°F"),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n).concat(this.SmallScreenBreak," was %{y:0.2f} ").concat(i," ").concat(a," ").concat(r," <extra></extra>").replace(/ {2}/g," "):" In %{x} there was an average of %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"yearBarText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText(),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(i," ").concat(a," ").concat(r,"   <extra></extra>").replace(/ {2}/g," "):" In %{x} there were an average of %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"averageBarText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText().replace("°f","°F"),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between the years %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(i," <extra></extra>").replace(/ {2}/g," ")}},{key:"averageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(i," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"movingAverageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak).concat(i," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"legendEllapsedText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t=this.textUnitsWords();return"".concat(t," ").concat(e.split(" ")[0].toLowerCase())}return this.season,"days"}},{key:"createlegendPerText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t="for ";return"ann"===this.season&&(t=""),"".concat(t).concat(e.split(" ")[0].toLowerCase())}return this.season,"per year"}},{key:"createYAxisText",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"Inches":"Temperature (°F)":(this.season,"Days")}},{key:"isAllZeros",value:function(){return 0===this.maxVal&&0===this.minVal}},{key:"hasData",value:function(){return!(Number.isNaN(this.maxVal)||Number.isNaN(this.minVal)||-999===this.maxVal&&-999===this.minVal||0===this.maxVal&&-999===this.minVal)}},{key:"computeMovingAverage",value:function(){var e=this.yvals,t=this.AverageMovingPeriod,a=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},r=[];if(t>e.length)return a(e);for(var n=0;n+t-1<e.length;n+=1)r.push(a(e.slice(n,n+t)));return r}},{key:"movingAverageXValues",value:function(){for(var e=this.xvals,t=this.AverageMovingPeriod,a=[],r=t-Math.floor(this.periodGroups/2)-1;r-t-1<e.length;r+=1)a.push(e[r]);return a}},{key:"xValsAverageBarHoverText",value:function(){var e=this,t=0;return this.xvals.map((function(a,r){if(0===r){var n=a+(e.periodGroups-1),i="".concat(a,"—").concat(n.toString().slice(0));return t+=1,i}if(t===e.periodGroups){t=0;var o=a+(e.periodGroups-1),l="".concat(a,"—").concat(o.toString().slice(0));return t+=1,l}t+=1})).filter((function(e){return void 0!==e}))}},{key:"xValsPeriod",value:function(){var e=this,t=0,a=Math.floor(this.periodGroups/2);return this.xvals.map((function(r,n){return 0===n?r<=-50?void 0:r+a:t===e.periodGroups-1?(t=0,r<=-50?void 0:r+a):void(t+=1)})).filter((function(e){return void 0!==e}))}},{key:"yValsSumAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)}},{key:"yValsSumByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=a+=i<=-50?void 0:i,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a+=i,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"yValsAvgAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)/this.yvals.length}},{key:"yValsAvgByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=(a+=i<=-50?void 0:i)/e.periodGroups,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a/t,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"setXRange",value:function(e){this.xmin=e.xmin,this.xmax=e.xmax}},{key:"setTitle",value:function(e){this.chartTitle=e.chartTitle}},{key:"getXvalues",value:function(){for(var e=[],t=this.xmin;t<=this.xmax;t+=1)e.push(t.toString());return e}},{key:"getYvalues",value:function(){var e=[],t=this.xmin;for(this.yvals=this.yvals.map((function(e){var t=e;return e<0&&(t=void 0),t}));t<parseInt(this.xvals[0],10);)t+=1,e.push("0");for(var a=0;t<=parseInt(this.xvals[this.xvals.length-1],10);)e.push(this.yvals[a]),a+=1,t+=1;for(;t<=this.xmax;)t+=1,e.push("0");return e}},{key:"zeroOutChartData",value:function(){this.yvals=[0],this.yValsSumByPeriod=[0],this.yValsAvgByPeriod=[0],this.yRange=[0,4],this.yValsSumAll=1e-8,this.yValsAvgAll=1e-8}},{key:"getData",value:function(){if(this.hasData()&&!this.isAllZeros()||this.zeroOutChartData(),this.maxVal===-1/0)return[{}];switch(this.lineChart){case"year":return[this.traceAverageBar(),this.traceYearlyLine()];case"avg":return[this.traceYearlyBar(),this.traceAverageLine()];case"mavg":return[this.traceYearlyBar(),this.traceMovingAverageLine()];default:return[this.traceAverageBar(),this.traceYearlyLine()]}}},{key:"getLayout",value:function(){switch(this.lineChart){case"year":return this.layoutAverageBar();case"avg":case"mavg":return this.layoutYearBar();default:return this.layoutAverageBar()}}},{key:"traceAverageBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"5—Year Average (".concat(this.legendEllapsedText,")"),type:"histogram",histfunc:"avg",xbins:{start:this.xmin,end:this.xmax,size:5},nbinsx:0,x:this.xvals,y:this.getYvalues(),bargroupgap:5,marker:{line:{color:this.barColor,width:1},color:this.barColor},hoverinfo:"x+y",customdata:this.xValsAverageBarHoverText(),hovertemplate:this.averageBarText(),legendgroup:1,orientation:"v"}}},{key:"traceYearlyLine",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"scatter",x:this.xvals,y:this.getYvalues(),marker:{color:this.annualLineColor},line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"linear",simplify:!0},connectgaps:!0,hoverinfo:"x+y",hovertemplate:this.yearLineText()}}},{key:"traceYearlyBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"bar",x:this.xvals,y:this.getYvalues(),xbins:{start:this.xmin,end:this.xmax,size:5},marker:{line:{color:this.barColor,width:1},color:this.barColor},histfunc:"sum",hoverinfo:"x+y",legendgroup:1,orientation:"v",hovertemplate:this.yearBarText()}}},{key:"traceMovingAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5—Year moving average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsMovingAverage,y:this.yValsMovingAverage,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsMovingAverage.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2),"—").concat(e-Math.floor(t.periodGroups/2)+t.AverageMovingPeriod)})),hoverinfo:"x+y",hovertemplate:this.movingAverageLineText()}}},{key:"traceAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5—Year average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsPeriod,y:this.yValsAvgByPeriod,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsPeriod.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2),"—").concat(e-Math.floor(t.periodGroups/2)+t.periodGroups-1)})),hoverinfo:"x+y",hovertemplate:this.averageLineText()}}},{key:"layoutAverageBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"closest",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average ".concat(this.yValsAvgAll.toFixed(1)," ").concat(this.averageTextUnits),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:10,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}},{key:"layoutYearBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"x",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average ".concat(this.yValsAvgAll.toFixed(1)," ").concat(this.averageTextUnits),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:35,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}}])&&O(t.prototype,a),r&&O(t,r),e}(),j=a(455),B=a(505),I=a(454),z=a(453),R=a(461),W=a(212),H=a.n(W);var G=Object(h.a)((function(e){return{formControl:{margin:e.spacing(0),minWidth:120,backgroundColor:"#E6E6E6"},menuItem:{textAlign:"left"},sandboxInputLabel:{color:"#5C5C5C"},sandboxErrorText:(t={backgroundColor:"#FBFCFE",margin:"0px"},a=e.breakpoints.up("md"),r={paddingTop:"3px"},a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t),infoButton:{color:"#5C5C5C",fontSize:"1.25rem",marginLeft:e.spacing(.1),position:"absolute",top:"-0.66rem",left:"-1.75rem",backgroundColor:"#ffffff",borderRadius:"30px"},toolTip:{padding:e.spacing(2),fontSize:"1rem"},pulldownInfoHolder:{position:"relative"}};var t,a,r}));function U(e){var t,a,r,i=G(),o=e.items,l=e.controlName,s=e.value,c=e.disabled,u=e.missing,h=e.season,d=e.onChange,p=e.TooltipText,g="Select a Climate Variable"===l?e.replaceClimatevariableType:function(e){return e},x="Select a Location"===l?e.replaceLocationAbbreviation:function(e){return e},y="Select a Time Period"===l?e.replacePeriodType:function(e){return e},b="Select the Time Scale"===l?e.replaceSeasonType:function(e){return e},w=u&&!c,T=w?n.a.createElement(z.a,{className:i.sandboxErrorText},"* Required"):"";"Select a Time Period"===l&&(t=o,a=h,r=A().filter((function(e){return e.season===a})),o=t.filter((function(e){return r.some((function(t){return t.value===e}))})));return n.a.createElement(m.a,{p:0,display:"flex",width:"100%"},n.a.createElement(I.a,{variant:"outlined",className:i.formControl,fullWidth:!0,disabled:c,error:w},n.a.createElement(j.a,{id:"demo-simple-select-outlined-label",className:i.sandboxInputLabel},l),n.a.createElement(R.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s,onChange:function(e){d(e.target.value)},label:l,className:i.menuItem},o.map((function(e){return n.a.createElement(B.a,{key:e,value:e,className:i.menuItem},function(e,t,a){switch(e){case"Select a Climate Variable":return g(t,a);case"Select a Location":return x(t);case"Select a Region":return n=r=t,"REGIONAL"===r.toUpperCase()&&(n="NCA Region"),n;case"Select a Time Period":return y(t,a);case"Select the Time Scale":return b(t);default:return g(t,a)}var r,n}(l,e,h))}))),T),n.a.createElement(m.a,{p:0,m:0,className:i.pulldownInfoHolder},n.a.createElement(f.a,{title:p,"aria-label":p,placement:"bottom-end",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:i.toolTip}},n.a.createElement(H.a,{className:i.infoButton}))))}U.propTypes={items:s.a.array,controlName:s.a.string,value:s.a.string,disabled:s.a.bool,season:s.a.string,TooltipText:s.a.string,missing:s.a.bool,replaceClimatevariableType:s.a.func,replaceLocationAbbreviation:s.a.func,replacePeriodType:s.a.func,replaceSeasonType:s.a.func,onChange:s.a.func};var Y=a(494),J=a(213),q=a.n(J),X=a(93),K=a.n(X),_=a(155),$=a.n(_),Z=Object(h.a)((function(e){return{sandboxAlertBox:{color:"#000000",position:"absolute",zIndex:"1000",width:"100%"},sandboxAlertCollapse:{position:"relative",width:"calc(100% - 30px)",marginLeft:"-39px"}}}));function Q(e){var t=Z(),a=e.chartErrorTitle,r=e.chartErrorMessage,i=e.errorType,o=e.shouldOpenAlert,l=K.a[500],s=K.a[900],c=$.a[500],u=$.a[800];return n.a.createElement(Y.a,{className:t.sandboxAlertCollapse,in:o},n.a.createElement(m.a,{className:t.sandboxAlertBox,bgcolor:function(e){switch(e){case"Error":return l;case"Warning":default:return c}}(i),color:"text.primary",p:1,mr:2,borderRadius:4,border:1,borderColor:function(e){switch(e){case"Error":return s;case"Warning":default:return u}}(i)},n.a.createElement(m.a,{fontWeight:"fontWeightBold",py:1,display:"flex"},n.a.createElement("div",{className:"sandbox-alert-icon"},n.a.createElement(q.a,null)),n.a.createElement("div",{className:"sandbox-alert-header"},a)),r))}Q.propTypes={chartErrorTitle:s.a.string,chartErrorMessage:s.a.string,errorType:s.a.string,shouldOpenAlert:s.a.bool};var ee=a(495),te=a(71),ae=a.n(te),re=a(123),ne=a.n(re),ie=a(94),oe=a.n(ie),le=a(456),se=a(501),ce=a(496),ue=a(497),he=function(){return[{name:"NCA",label:"NCA Standard (4:3)",dimensions:{width:1280,height:960}},{name:"Presentation",label:"Presentation (12:9)",dimensions:{width:1920,height:1080}}]};function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ge=Object(h.a)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"400px"},pe(t,e.breakpoints.down("sm"),{width:"80%"}),pe(t,"backgroundColor",e.palette.background.paper),pe(t,"border","0px solid transparent"),pe(t,"outline","unset"),pe(t,"borderRadius","4px"),pe(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:pe({marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(1)},exportForm:(a={display:"flex",flexDirection:"row"},pe(a,e.breakpoints.down("sm"),{flexDirection:"column"}),pe(a,"alignItems","flex-start"),pe(a,"justifyContent","flex-start"),pe(a,"width","100%"),pe(a,"marginTop",e.spacing(2)),pe(a,"marginBottom",e.spacing(2)),a),exportInput:pe({marginTop:e.spacing(3),marginRight:e.spacing(2),width:"45%"},e.breakpoints.down("sm"),{width:"100%"}),exportSmallButtonText:{marginLeft:e.spacing(1)},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)}}}));function fe(e){var t=ge(),a=e.open,i=e.handleCustomSizeClose,o=e.exportFunc,l=e.exportHeading,s=e.exportType,c=new he,u={name:"Default",dimensions:{width:1250,height:625}},h=function(){var e=document.querySelector(".js-plotly-plot .main-svg"),t=u.width,a=u.height;return e&&(t=e.getAttribute("width"),a=e.getAttribute("height")),{width:t,height:a}},d=de(Object(r.useState)("Default"),2),m=d[0],p=d[1],g=Object(r.useRef)(m),f=h(),v=de(Object(r.useState)(f.width),2),x=v[0],y=v[1],b=de(Object(r.useState)(f.height),2),w=b[0],T=b[1],D=de(Object(r.useState)(f.width),2),C=D[0],S=D[1],A=de(Object(r.useState)(f.height),2),P=A[0],V=A[1];Object(r.useEffect)((function(){if("Default"===m){var e=h();S(parseInt(e.width,10)),V(parseInt(e.height,10))}}),[a]);var E=function e(t){return"Default"===t?e(m):c.filter((function(e){return e.name===t}))[0].dimensions};Object(r.useEffect)((function(){window.addEventListener("resize",(function(){if("Default"===g.current){var e=h();y(parseInt(e.width,10)),T(parseInt(e.height,10))}}))}),[]);var N=function(e){i(!1)},k=function(e){return m===e?"contained":"outlined"},M=function(e){var t;if(t=e.currentTarget.value,g.current=t,p(t),"Default"===e.currentTarget.value){var a=h();y(parseInt(a.width,10)),T(parseInt(a.height,10))}else{var r=E(e.currentTarget.value);y(parseInt(r.width,10)),T(parseInt(r.height,10))}};return n.a.createElement(se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:N,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.a.createElement("div",{className:t.exportModalDiv},n.a.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},n.a.createElement(ae.a,{className:t.exportHeaderIcon})," ",l),n.a.createElement("div",{className:t.exportDescriptionText},"Change the dimensions of the exported chart"),n.a.createElement(ee.a,{className:t.exportButtons,onClick:M,variant:k("Default"),color:"primary",value:"Default"},"Default Current Screen Size",n.a.createElement("small",{className:t.exportSmallButtonText},"(",C," x ",P,")")),c.map((function(e){return n.a.createElement(ee.a,{key:e.name,className:t.exportButtons,onClick:M,variant:k(e.name),color:"primary",value:e.name},"Default"===(a=e.name)?"Default":c.filter((function(e){return e.name===a}))[0].label,n.a.createElement("small",{className:t.exportSmallButtonText},"(",E(e.name).width," x ",E(e.name).height,")"));var a})),n.a.createElement(I.a,{className:t.exportForm},n.a.createElement(ce.a,{className:t.exportInput,onChange:function(e){y(parseInt(e.currentTarget.value,10))},id:"outlined-number-width",variant:"outlined",label:"Width",type:"number",value:x,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(ue.a,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}}),n.a.createElement(ce.a,{className:t.exportInput,onChange:function(e){T(parseInt(e.currentTarget.value,10))},id:"outlined-number-height",variant:"outlined",label:"Height",type:"number",value:w,InputLabelProps:{shrink:!0},InputProps:{endAdornment:n.a.createElement(ue.a,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}})),n.a.createElement("div",{className:t.exportContainer},n.a.createElement("div",{className:t.exportStart},n.a.createElement(ee.a,{className:t.exportButtons,onClick:function(){o(".js-plotly-plot .main-svg",x,w),setTimeout((function(){N()}),650)},color:"primary",variant:"contained",startIcon:n.a.createElement(ae.a,null)},"Export ",s)),n.a.createElement("div",{className:t.exportEnd},n.a.createElement(ee.a,{className:t.exportButtons,onClick:N,color:"default",variant:"contained"},"Cancel")))))}fe.propTypes={handleCustomSizeClose:s.a.func,exportFunc:s.a.func,exportHeading:s.a.string,exportType:s.a.string,open:s.a.bool};var ve=a(215),xe=a.n(ve),ye=a(216),be=a.n(ye),we=a(214),Te=a.n(we);function De(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pe=a(201),Ve=K.a[500],Ee=Te.a[700],Ne=Object(h.a)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"500px"},Ae(t,e.breakpoints.down("sm"),{width:"80%"}),Ae(t,"backgroundColor",e.palette.background.paper),Ae(t,"border","0px solid transparent"),Ae(t,"outline","unset"),Ae(t,"borderRadius","4px"),Ae(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:Ae({marginBottom:e.spacing(2),fontSize:".9em"},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},exportForm:(a={display:"flex"},Ae(a,e.breakpoints.down("sm"),{flexDirection:"column"}),Ae(a,"alignItems","flex-start"),Ae(a,"justifyContent","flex-start"),Ae(a,"width","100%"),Ae(a,"marginTop",e.spacing(2)),Ae(a,"marginBottom",e.spacing(2)),a),exportInputVerify:{margin:e.spacing(1),marginBottom:e.spacing(2),width:"100%"},exportInput:{margin:e.spacing(1),width:"100%"},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)},exportMessage:{margin:e.spacing(1),width:"100%"},figureErrorText:{color:Ve,marginLeft:e.spacing(2),marginTop:e.spacing(0),paddingTop:e.spacing(0)},messageSentText:{color:Ee},messageSentFailedText:{color:Ve},messageCheckCircleOutlineIcon:{color:Ee,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"},messageHighlightOffIcon:{color:Ve,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"}}}));function ke(e){var t=Ne(),a=e.open,i=e.handleCloseFigure,o=Ce(Object(r.useState)(""),2),l=o[0],s=o[1],c=Ce(Object(r.useState)(""),2),u=c[0],h=c[1],d=Ce(Object(r.useState)(""),2),p=d[0],g=d[1],f=Ce(Object(r.useState)(window.location.href),2),v=f[0],x=f[1],y=Object(r.useRef)(v),b=Ce(Object(r.useState)(""),2),w=b[0],T=b[1],D=Ce(Object(r.useState)(!1),2),C=D[0],S=D[1],A=Ce(Object(r.useState)(!1),2),P=A[0],V=A[1],E=Ce(Object(r.useState)(!1),2),N=E[0],k=E[1],M=Ce(Object(r.useState)(!1),2),L=M[0],O=M[1],F=Ce(Object(r.useState)(!1),2),j=F[0],B=F[1],R=Ce(Object(r.useState)(!1),2),W=R[0],H=R[1],G=P?"":n.a.createElement(z.a,{style:{display:"flex"},className:t.figureErrorText},"Email address is not valid"),U=N?"":n.a.createElement(z.a,{style:{display:"flex"},className:t.figureErrorText},"Required"),J=L?"":n.a.createElement(z.a,{style:{display:"flex"},className:t.figureErrorText},"Required"),q={headers:{Accept:"*/*","content-type":"application/json"}},X=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.location.href,y.current=a,x(a),t={authorName:l,authorEmail:u,authorNote:w,chapter:p,figureURL:y.current},e.prev=3,e.next=6,Pe.post("https://v9bh75u4xh.execute-api.us-east-1.amazonaws.com/dev/submitEmail",JSON.stringify(t),q);case 6:return 200===e.sent.status?(B(!0),S(!1)):(H(!1),B(!1)),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),H(!1),B(!1),e.abrupt("return",!1);case 16:case"end":return e.stop()}var a}),e,null,[[3,11]])})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){De(i,r,n,o,l,"next",e)}function l(e){De(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),K=function(e){return e.length>=2},_=function(e){i(!1),B(!1)};return n.a.createElement(se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:_,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.a.createElement("div",{className:t.exportModalDiv},n.a.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},n.a.createElement(oe.a,{className:t.exportHeaderIcon})," ","Send to TSU"),n.a.createElement("div",{className:t.exportDescriptionText},"You must have an Author Key to sumbit the figure. Author keys cannot be requested and are only provied to selected NCA authors, by TSU."),n.a.createElement("div",{className:t.exportDescriptionText},"Once a valid Author key is entered, you can submit the current figure to TSU. Please note that you must include your email, name and any details about figure."),n.a.createElement(Y.a,{in:j},n.a.createElement(m.a,{display:"flex",alignContent:"center"},n.a.createElement(xe.a,{className:t.messageCheckCircleOutlineIcon}),n.a.createElement("h2",{id:"simple-modal-title",className:t.messageSentText},"Figure sumbitted successfully!"))),n.a.createElement(Y.a,{in:W},n.a.createElement(m.a,{display:"flex",alignContent:"center"},n.a.createElement(be.a,{className:t.messageHighlightOffIcon}),n.a.createElement("h2",{id:"simple-modal-title",className:t.messageSentFailedText},"Figure sumbitted failed, please try again!"))),n.a.createElement(Y.a,{in:!C},n.a.createElement(I.a,{className:t.exportForm},n.a.createElement(ce.a,{className:t.exportInput,id:"outlined-text-name",size:"small",required:!0,variant:"outlined",label:"Name",type:"text",disabled:C,value:l,onChange:function(e){var t=e.currentTarget.value;k(K(t)),s(t)},error:!N,InputLabelProps:{shrink:!0}}),U,n.a.createElement(ce.a,{className:t.exportInput,id:"outlined-text-email",size:"small",required:!0,variant:"outlined",label:"Email",type:"text",disabled:C,value:u,onChange:function(e){var t,a=e.currentTarget.value;V(!((t=a).length<4)&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)),h(a)},error:!P,InputLabelProps:{shrink:!0}}),G,n.a.createElement(ce.a,{className:t.exportInput,id:"outlined-text-chapter",size:"small",required:!0,variant:"outlined",label:"NCA Chapter",type:"text",disabled:C,value:p,onChange:function(e){var t=e.currentTarget.value;O(K(t)),g(t)},error:!N,InputLabelProps:{shrink:!0}}),J,n.a.createElement(ce.a,{className:t.exportMessage,id:"outlined-text-message",size:"small",variant:"outlined",label:"Notes or Comments",type:"text",disabled:C,value:w,rows:4,multiline:!0,onChange:function(e){T(e.currentTarget.value)},InputLabelProps:{shrink:!0}}))),n.a.createElement("div",{className:t.exportContainer},n.a.createElement("div",{className:t.exportStart},n.a.createElement(ee.a,{className:t.exportButtons,onClick:X,color:"primary",variant:"contained",disabled:C||!N||!P,startIcon:n.a.createElement(oe.a,null)},"Submit Figure")),n.a.createElement("div",{className:t.exportEnd},n.a.createElement(ee.a,{className:t.exportButtons,onClick:_,color:"default",variant:"contained"},"Close")))))}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}ke.propTypes={handleCloseFigure:s.a.func,open:s.a.bool};var Fe=Object(h.a)((function(e){var t,a,r,n;return{sandboxExportsButtonBox:Oe({justifyContent:"flex-end"},e.breakpoints.down("xs"),{margin:e.spacing(1),justifyContent:"unset"}),sandboxSelectedButton:Oe({justifyContent:"flex-end"},e.breakpoints.down("xs"),{justifyContent:"unset"}),fabsvg:(t={minWidth:"75px",margin:e.spacing(1)},Oe(t,e.breakpoints.down("md"),{fontSize:".80rem"}),Oe(t,e.breakpoints.down("xs"),{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),width:"100%"}),t),fabsvgLeft:(a={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(0),borderTopRightRadius:"0px",borderBottomRightRadius:"0px"},Oe(a,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Oe(a,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(1),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),a),fabsvgCenter:(r={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),borderRadius:"0px"},Oe(r,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Oe(r,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),r),fabsvgRight:(n={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"},Oe(n,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),Oe(n,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),n),MenuItem:{textDecoration:"underline"},sandboxExportsButtonBoxForm:Oe({flexDirection:"inherit",justifyContent:"flex-end"},e.breakpoints.down("xs"),{flexDirection:"column",width:"100%"}),sandboxExportsButtonBoxFormLabel:{position:"absolute",left:"45%",top:e.spacing(-1.25),fontSize:"0.75rem",color:"#5C5C5C"},toolTip:{padding:e.spacing(2),fontSize:"1rem"}}}));function je(e){var t=Fe(),a=e.handleSwtichYearlyToLinea,r=e.handleSwtichAverageAndYearlya,i=e.handleSwtichMovingAverageAndYearlya,o=e.handleDownloadChartAsCSVa,l=e.handleDownloadChartAsPNGa,s=e.handleDownloadChartAsSVGa,c=e.lineChart,u=Me(n.a.useState(!1),2),h=u[0],p=u[1],g=Me(n.a.useState(!1),2),x=g[0],y=g[1],b=Me(n.a.useState(!1),2),w=b[0],T=b[1],D=function(e,t){switch(c){case"year":case"avg":case"mavg":default:return t===c?"sandbox-start-icon-selected":"sandbox-start-icon-not-selected"}};return n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-end",direction:"row"},n.a.createElement(d.a,{item:!0,xs:12,sm:12,md:6,width:"100%"},n.a.createElement(m.a,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},n.a.createElement(I.a,{component:"fieldset",variant:"outlined",className:t.sandboxExportsButtonBoxForm},n.a.createElement(le.a,{component:"legend",className:t.sandboxExportsButtonBoxFormLabel},"Data Display"),n.a.createElement(f.a,{title:"Yearly: Displays data as five-year averages with trendlines showing annual averages and the average for the entire dataset.","aria-label":"Yearly: Displays data as five-year averages with trendlines showing annual averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(e){a(e.target.value)},classes:{root:"".concat(D(0,"year"))},className:t.fabsvgLeft,variant:"contained",color:"default",startIcon:n.a.createElement(ne.a,null)},"Yearly")),n.a.createElement(f.a,{title:"Average: Displays data as annual averages with trendlines showing five-year averages and the average for the entire dataset.","aria-label":"Average: Displays data as annual averages with trendlines showing five-year averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(e){r(e.target.value)},classes:{root:"".concat(D(0,"avg"))},className:t.fabsvgCenter,variant:"contained",color:"default",startIcon:n.a.createElement(ne.a,null)},"Average")),n.a.createElement(f.a,{title:"Moving Average: Displays data as annual averages with trendlines showing five-year moving averages and the average for the entire dataset.","aria-label":"Moving Average: Displays data as annual averages with trendlines showing five-year moving averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(e){i(e.target.value)},classes:{root:"".concat(D(0,"mavg"))},className:t.fabsvgRight,variant:"contained",color:"default",startIcon:n.a.createElement(ne.a,null)},"Moving Average"))))),n.a.createElement(d.a,{item:!0,xs:12,sm:12,md:6,width:"100%"},n.a.createElement(m.a,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},n.a.createElement(I.a,{component:"fieldset",variant:"outlined",className:t.sandboxExportsButtonBoxForm},n.a.createElement(le.a,{component:"legend",className:t.sandboxExportsButtonBoxFormLabel},"Export"),n.a.createElement(f.a,{title:"Export data in the current chart to Excel or CSV file.","aria-label":"Export data in the current chart to Excel or CSV file.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(e){o()},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(ae.a,null)},".CSV")),n.a.createElement(f.a,{title:"Export current chart for a report, social media post, or presentation.","aria-label":"Export current chart for a report, social media post, or presentation.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(){window.dispatchEvent(new Event("resize")),y(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(ae.a,null)},".PNG")),n.a.createElement(fe,{open:x,handleCustomSizeClose:function(){y(!1)},exportType:"PNG",exportHeading:"Export chart to PNG",exportFunc:function(e,t,a){l(e,t,a)}}),n.a.createElement(f.a,{title:"Export current chart in vector a format, typically for a graphics team.","aria-label":"Export current chart in vector a format, typically for a graphics team.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(){window.dispatchEvent(new Event("resize")),p(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(ae.a,null)},".SVG")),n.a.createElement(fe,{open:h,handleCustomSizeClose:function(){p(!1)},exportType:"SVG",exportHeading:"Export chart to SVG",exportFunc:function(e,t,a){s(e,t,a)}}),n.a.createElement(f.a,{title:"Once the figure is ready, submit it to the TSU.","aria-label":"Once the figure is ready, submit it to the TSU.",placement:"bottom",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},n.a.createElement(ee.a,{onClick:function(){T(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:n.a.createElement(oe.a,null)},"To TSU")),n.a.createElement(ke,{open:w,handleCloseFigure:function(){T(!1)}})))))}function Be(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}je.propTypes={handleSwtichYearlyToLinea:s.a.func,handleSwtichAverageAndYearlya:s.a.func,handleSwtichMovingAverageAndYearlya:s.a.func,handleDownloadChartAsCSVa:s.a.func,handleDownloadChartAsPNGa:s.a.func,handleDownloadChartAsSVGa:s.a.func,lineChart:s.a.string,onChange:s.a.func};var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undefined=void 0}var t,a,r;return t=e,(a=[{key:"parseFile",value:function(e,t,a){for(var r=[],n=[],i=e.split(/\r?\n/),o=i[0].split(","),l=0;l<o.length;l+=1)o[l]=o[l].trim();var s=this.undefined;if("national"===t)s=1;else if("regional"===t||"state"===t)for(var c=1;c<o.length;c+=1)if(o[c].toUpperCase()===a.toUpperCase()){s=c;break}for(var u=1;u<i.length;u+=1){var h=i[u].split(",");if(h.length<=1)break;var d=parseInt(h[0],10),m=parseFloat(h[s]);r.push(d),n.push(m)}return[r,n]}}])&&Be(t.prototype,a),r&&Be(t,r),e}();function ze(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=[{value:"AK",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"AL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AZ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"DE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"FL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"GA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"HI",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"ID",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IA",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"LA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ME",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NJ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NM",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ND",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OK",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PR",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"RI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TX",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"UT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"National",region:"National",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Midwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Alaska",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Hawaii",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Puerto Rico",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]}]}var t,a,r;return t=e,(a=[{key:"getDefaultPeriod",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].defaultPeriod:[{}]}},{key:"getInValidClimateVariables",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidClimateVariables:[{}]}},{key:"getInValidPeriods",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidPeriods:[{}]}}])&&ze(t.prototype,a),r&&ze(t,r),e}(),We=function(){return["National","Regional","State"]},He=function(){return["1900-current","1950-current","1895-current"]},Ge=function(){return["yearly","ann","djf","mam","jja","son"]},Ue=function(){return["Northeast","Southeast","Midwest","Northern Great Plains","Northwest","Southwest","Southern Great Plains","Alaska","Hawaii","Puerto Rico"]},Ye=function(){return["AK","AL","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VA","VI","WA","WV","WI","WY"]};a(448);function Je(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ke(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _e=We(),$e=He(),Ze=Ge(),Qe=Ue(),et=Ye(),tt=a(201),at=Object(h.a)((function(e){var t,a,r;return{sandboxRoot:Ke({backgroundColor:"#FFFFFF",color:"#5C5C5C",height:"calc(100vh - 16px)"},e.breakpoints.down("xs"),{overflow:"scroll"}),sandboxHeader:Ke({height:"".concat(50,"px"),maxHeight:"".concat(50,"px"),color:"#5C5C5C"},e.breakpoints.down("xs"),{height:"".concat(75,"px"),maxHeight:"".concat(75,"px")}),sandboxDescription:Ke({border:"0px solid transparent",height:"".concat(60,"px"),maxHeight:"".concat(60,"px"),color:"#5C5C5C",marginBottom:e.spacing(1.25),zIndex:900},e.breakpoints.down("xs"),{height:"".concat(90,"px"),maxHeight:"".concat(90,"px")}),sandboxSelectionArea:(t={maxHeight:"375px",backgroundColor:"#FBFCFE",border:"1px solid ".concat("#E6E6E6"),borderRadius:"4px"},Ke(t,e.breakpoints.down("sm"),{height:"".concat(449.7,"px"),maxHeight:"".concat(449.7,"px")}),Ke(t,e.breakpoints.down("xs"),{height:"".concat(965,"px"),minHeight:"".concat(965,"px")}),t),sandboxSelectionAreaHolder:(a={display:function(e){return"yes"===e.chartOnly?"none":"inherit"},margin:"6px"},Ke(a,e.breakpoints.down("sm"),{height:"".concat(449.7,"px"),maxHeight:"".concat(449.7,"px")}),Ke(a,e.breakpoints.down("xs"),{height:"".concat(965,"px"),maxHeight:"".concat(965,"px")}),a),sandboxChartRegion:Ke({height:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 250px)"},maxHeight:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 250x)"},minHeight:"".concat(400,"px")},e.breakpoints.down("sm"),{height:"".concat(575,"px !important"),maxHeight:"".concat(575,"px !important")}),sandboxChartRegionBox:Ke({height:"calc(100% - 10px)"},e.breakpoints.down("sm"),{height:"575px"}),sandboxExports:(r={height:"".concat(75,"px"),maxHeight:"".concat(75,"px"),paddingTop:"12px"},Ke(r,e.breakpoints.down("sm"),{height:"".concat(150,"px"),maxHeight:"".concat(150,"px")}),Ke(r,e.breakpoints.down("xs"),{height:"".concat(350,"px"),maxHeight:"".concat(350,"px")}),r),extendedIcon:{marginRight:e.spacing(1)},infoButton:{color:"#5C5C5C",fontSize:"1.5rem",marginLeft:e.spacing(.1),position:"absolute",backgroundColor:"#ffffff",borderRadius:"30px",top:"-0.66rem"},toolTip:{padding:e.spacing(2),fontSize:"1rem"},pulldownInfoHolder:{"& .MuiPaper-elevation1.Mui-expanded":{boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",backgroundColor:"#E6E6E6"},"& .MuiAccordionSummary-root.Mui-expanded":{backgroundColor:"#FFFFFF"},"& .MuiPaper-elevation1":{boxShadow:"unset"}},moreAboutData:{backgroundColor:"#FBFCFE"}}}));function rt(){var e=new URLSearchParams(window.location.search),t=e.get("region")?e.get("region"):"",a=e.get("location")?e.get("location"):"",i=e.get("climatevariable")?e.get("climatevariable"):"",o=e.get("period")?e.get("period"):"1900-current",l=e.get("line")?e.get("line"):"year",s=e.get("season")?e.get("season"):"yearly",c=e.get("chartonly")?e.get("chartonly"):"no",h=!0,p=!0,T=!0,S=!0,A=[""];switch(t){case"National":h=!1,T=!1,S=!1;break;case"Regional":A=Qe,p=!1,h=!1,T=!1,S=!1;break;case"State":A=et,p=!1,h=!1,T=!1,S=!1;break;default:h=!0,p=!0,T=!0,S=!0}var P=qe(Object(r.useState)(!0),2),V=P[0],E=P[1],N=qe(Object(r.useState)(!1),2),M=N[0],L=N[1],O=qe(Object(r.useState)("Chart Error"),2),j=O[0],B=O[1],I=qe(Object(r.useState)("Error"),2),z=I[0],R=I[1],W=qe(Object(r.useState)("Error"),2),H=W[0],G=W[1],Y=qe(Object(r.useState)(t),2),J=Y[0],q=Y[1],X=qe(Object(r.useState)(a),2),K=X[0],_=X[1],$=qe(Object(r.useState)(i),2),Z=$[0],ee=$[1],te=qe(Object(r.useState)(o),2),ae=te[0],re=te[1],ne=qe(Object(r.useState)(s),2),ie=ne[0],oe=ne[1],le=qe(Object(r.useState)(l),2),se=le[0],ce=le[1],ue=qe(Object(r.useState)(c),2),he=ue[0],de=ue[1],me=qe(Object(r.useState)([{}]),2),pe=me[0],ge=me[1],fe=qe(Object(r.useState)({yaxis:{rangemode:"tozero",title:"Days",fixedrange:!0},xaxis:{rangemode:"tozero",fixedrange:!0}}),2),ve=fe[0],xe=fe[1],ye=qe(Object(r.useState)([""]),2),be=ye[0],we=ye[1],Te=qe(Object(r.useState)(A),2),De=Te[0],Ce=Te[1],Se=qe(Object(r.useState)([""]),2),Ae=Se[0],Pe=Se[1],Ve=qe(Object(r.useState)(p),2),Ee=Ve[0],Ne=Ve[1],ke=qe(Object(r.useState)(h),2),Me=ke[0],Le=ke[1],Oe=qe(Object(r.useState)(T),2),Fe=Oe[0],Be=Oe[1],ze=qe(Object(r.useState)(S),2),We=ze[0],He=ze[1],Ge=at({chartOnly:he}),Ue=function(e){return(new k).getLocationDownText(e)},Ye=function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.climateDataFilesJSONFile,l=e.chartLineChart,s=e.chartOnlyProp;!function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.chartLineChart,l=e.chartOnlyProp,s=new URLSearchParams;s.set("region",t),s.set("location",a),s.set("climatevariable",r),s.set("period",n),s.set("season",i),s.set("line",o),s.set("chartonly",l);var c="?".concat(s.toString());window.history.replaceState({},document.title,c)}({chartDataRegion:t,chartDataLocation:a,chartDataClimatevariable:r,chartDataPeriod:n,chartDataSeason:i,chartLineChart:l,chartOnlyProp:s});var c=o.filter((function(e){return e.period===n&&e.type===r&&e.season===i})).map((function(e){return e.name})),u="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname);return t&&("National"===t||a)&&r&&n&&i?(tt.get("".concat(u,"sandboxdata/TSU_Sandbox_Datafiles/").concat(c)).then((function(e){var s=(new Ie).parseFile(e.data,t.toLowerCase(),a),c=function(e){var t={default:"Temperature",pcpn:"Precipitation","1inch":"Precipitation","2inch":"Precipitation","3inch":"Precipitation","4inch":"Precipitation",tmin:"Temperature",tmax:"Temperature",tmax0F:"Temperature",tmax32F:"Temperature",tmax90F:"Temperature",tmax95F:"Temperature",tmax100F:"Temperature",tmin0F:"Temperature",tmin32F:"Temperature",tmin70F:"Temperature",tmin75F:"Temperature",tmin80F:"Temperature",hdd:"HeatingDays",cdd:"CoolingDays"};return t[e]||t.default}(r),u=new k(r),h=Ue(a),d=u.getChartTitle({climatevariable:r,region:t,titleLocation:h,chartDataSeason:i}),m=u.getClimateVariablePullDownText(r,i),p=u.getPeriodRange(n),g=!1;o||(g=!0),t||(g=!0),"National"===t||a||(g=!0),r||(g=!0),n||(g=!0),i||(g=!0);var f={xvals:s[0],yvals:s[1],xmin:p[0],xmax:p[1],chartTitle:d,legnedText:c,chartType:c,climatevariable:m,chartLineChart:l,dataMissing:g,season:i},v=new F(f);g&&v.zeroOutChartData();var x={locationLimit:"National"===t?"National":a},y=new Re;y.getDefaultPeriod(x),y.getInValidClimateVariables(x),y.getInValidPeriods(x);v.hasData()||g?v.isAllZeros()&&!g?(L(!0),G("Warning"),R("Warning data is all zeros"),B("Warning the chart data for ".concat(d," contains all zeros (0)."))):L(!1):(L(!0),G("Error"),R("Error data not available"),B("Unfortunately, there is no data available for ".concat(m,"\n            for ").concat(h,". To resolve this issue, try one or all of these three actions.\n            1) Change the location.\n            2) Change the climate variable.\n            3) Change the time period")));var b={xmin:p[0],xmax:p[1]};return v.setXRange(b),ge(v.getData()),xe(v.getLayout()),v})).catch((function(e){console.error("SanboxControls.updatePlotData() error=".concat(e))})),null):null},Xe=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),e.next=3,tt.get("".concat(n,"sandboxdata/TSU_Sandbox_Datafiles/index.json")).then((function(e){var n={};switch(t){case"National":n=e.data.national;break;case"Regional":n=e.data.regional;break;case"State":n=e.data.state;break;default:n=e.data.national}we(n);var i=n.filter((function(e){return e.period===a&&e.season===r})).map((function(e){return e.type}));return Pe(i),V&&Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:n,chartLineChart:se,chartOnlyProp:he}),n})).catch((function(e){return console.error("SanboxControls loadData error: ".concat(e)),[""]}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){Je(i,r,n,o,l,"next",e)}function l(e){Je(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(e,a,r){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){Xe(J,ae,ie,V)}),[ie]),Object(r.useEffect)((function(){Xe(J,ae,ie,V)}),[J]),Object(r.useEffect)((function(){Xe(J,ae,ie,V),E(!1)}),[V]);var Ke=function(e,t){return(new k).getClimateVariablePullDownText(e,t)},rt=function(e){var t=e.querySelector(".infolayer .g-gtitle .gtitle");if(t){var a=t.getAttribute("data-unformatted").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","");return e.querySelector(".infolayer .g-gtitle .gtitle").setAttribute("data-unformatted",a),e}return e},nt=function(e){var t=Array.from(document.querySelectorAll(e)),a=document.createElement("div");a.setAttribute("id","merged-div");var r=document.createElement("svg"),n=t[0].getAttribute("width"),i=t[0].getAttribute("height");r.setAttribute("xmlns",t[0].getAttribute("xmlns")),r.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),r.setAttribute("width",n),r.setAttribute("height",i),r.setAttribute("style",t[0].getAttribute("style")),a.appendChild(r),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){if(!e.classList.contains("draglayer")){var t=e.cloneNode(!0),a=rt(t);r.appendChild(a)}}))}));var o=btoa(unescape(encodeURIComponent(r.outerHTML)));return a.remove(),o},it=function(){var e=new k("").getChartTitle({climatevariable:Z,region:J,titleLocation:Ue(K),chartDataSeason:ie});return"".concat(e)},ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svg",a=document.createElement("a"),r=new MouseEvent("click");if(a.download="".concat(it(),".").concat(t),"svg"===t){var n="data:image/svg+xml;base64,";a.href="".concat(n).concat(e)}else a.href=e;return a.dispatchEvent(r),a.remove(),null},lt=function(e,t,a){var r=document.querySelector(e);if(r){var n=r.getAttribute("width"),i=r.getAttribute("height");if(Number(n)===Number(t)&&Number(i)===Number(a))return!1}return!0},st=function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=document.querySelector(e);if(r){var n=lt(e,t,a);if(!n){var i=nt(e);return ot(i),null}}var o=document.querySelector(".PlotRegionDiv").parentElement,l=document.querySelector(".user-select-none.svg-container"),s=o.getAttribute("width"),c=o.getAttribute("height"),u=l.getAttribute("width"),h=l.getAttribute("height");t>0&&a>0&&(o.style.width="".concat(t,"px"),l.style.width="".concat(t,"px"),o.style.height="".concat(a,"px"),l.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize")),setTimeout((function(){var t=nt(e);return ot(t),o.style.width=s,l.style.width=u,o.style.height=c,l.style.height=h,window.dispatchEvent(new Event("resize")),null}),500))}(e,t,a)};return n.a.createElement("div",null,n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:Ge.sandboxRoot},n.a.createElement(d.a,{item:!0,xs:12,width:"100%",className:Ge.sandboxSelectionAreaHolder},n.a.createElement(d.a,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:Ge.sandboxSelectionArea},n.a.createElement(d.a,{item:!0,xs:12,className:Ge.sandboxHeader,width:"100%"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",mt:1,p:0,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(m.a,{onClick:st,px:1,fontSize:"h4.fontSize"},n.a.createElement(f.a,{title:"Create a figure for the NCA using the buttons to how you want to filter the data. Generated graphics can be exported or submitted to the TSU. Data source: X.","aria-label":"Create a figure for the NCA using the buttons to how you want to filter the data. Generated graphics can be exported or submitted to the TSU. Data source: X",placement:"bottom-end",TransitionComponent:v.a,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:Ge.toolTip}},n.a.createElement(g.a,{fontSize:"large",className:"InfoIcon"}))),n.a.createElement(m.a,{px:1,fontSize:"h5.fontSize"},"NCA Figure and Climate Data Generator"))),n.a.createElement(d.a,{item:!0,xs:12,className:Ge.sandboxDescription,width:"100%"},n.a.createElement(m.a,{p:0,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(m.a,{px:1,fontWeight:400,fontSize:"caption",className:Ge.pulldownInfoHolder},n.a.createElement(x.a,{square:!0,className:Ge.moreAboutData},n.a.createElement(y.a,{expandIcon:n.a.createElement(D.a,null),"aria-controls":"data-description-header",id:"data-description-header"},n.a.createElement(w.a,{className:Ge.aboutTheDataHeading},"Access climate data to create a proposed figure supporting your NCA chapter. ",n.a.createElement("a",{href:"#"},"Learn more about what data is being used..."))),n.a.createElement(b.a,null,n.a.createElement(w.a,null,"The Annual-Threshold graphs are derived from the Global Historical Climatology Network-Daily (GHCN) of the National Centers for Environmental Information. A select set of stations with minimal missing data are used for the calculations. The Annual and Seasonal Temperature and Precipitation graphs are derived from the new NOAA Monthly U.S. Climate Divisional Database (NClimDiv) of the National Centers for Environmental Information.")))))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(U,{items:_e,controlName:"Select a Geographic Scale",onChange:function(e){switch(q(e),e){case"National":Ce([""]),_(""),Ne(!0),Le(!1),Be(!1),He(!1);break;case"Regional":Ce(Qe),_(""),Ne(!1),Le(!1),Be(!1),He(!1);break;case"State":Ce(et),_(""),Ne(!1),Le(!1),Be(!1),He(!1);break;default:Ce([""]),_(""),Ne(!0),Le(!0),Be(!0),He(!0)}de("no"),Ye({chartDataRegion:e,chartDataLocation:"",chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:se,chartOnlyProp:"no"})},value:J,disabled:!1,season:ie,missing:!J,replaceClimatevariableType:Ke,TooltipText:"Select a scale: national, NCA region, or state"}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(U,{items:De,controlName:"Select a Location",onChange:function(e){_(e),de("no"),Ye({chartDataRegion:J,chartDataLocation:e,chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:se,chartOnlyProp:"no"})},value:K,season:ie,disabled:Ee,missing:"National"!==J&&!K,replaceClimatevariableType:Ke,replaceLocationAbbreviation:Ue,TooltipText:"Select the applicable NCA region or state based on your scale selection. Not applicable for national-scale figures"}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(U,{items:Ze,controlName:"Select the Time Scale",onChange:function(e){var t=ie;oe(e);var a=ae,r=Z;return"yearly"===e||"1900-current"!==ae&&"1950-current"!==ae||(re("1895-current"),a="1895-current"),"yearly"===e&&"1895-current"===ae&&(re("1900-current"),a="1900-current"),"yearly"===t&&"yearly"!==e&&(ee("tmpc"),r="tmpc"),"yearly"!==t&&"yearly"===e&&(ee("1inch"),r="1inch"),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:r,chartDataPeriod:a,chartDataSeason:e,climateDataFilesJSONFile:be,chartLineChart:se,chartOnlyProp:"no"}),null},value:ie,disabled:We,missing:!ie,season:ie,replaceClimatevariableType:Ke,replaceSeasonType:function(e){return(new k).getSeasonPullDownText(e)},TooltipText:"Select from among two annual scales or the four meteorological seasons. Your selection will drive the what is available in the climate variables."}))),n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(U,{items:Ae,controlName:"Select a Climate Variable",onChange:function(e){return ee(e),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:e,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:se,chartOnlyProp:"no"}),null},value:Z,season:ie,disabled:Me,missing:!Z,replaceClimatevariableType:Ke,TooltipText:"Select an applicable climate variable. Your available choices are based on your time scale selection. Your choice here will drive the time period(s) available. "}))),n.a.createElement(d.a,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},n.a.createElement(m.a,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},n.a.createElement(U,{items:$e,controlName:"Select a Time Period",onChange:function(e){return re(e),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:Z,chartDataPeriod:e,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:se,chartOnlyProp:"no"}),null},value:ae,disabled:Fe,missing:!ae,season:ie,replaceClimatevariableType:Ke,replacePeriodType:function(e,t){return(new k).getPeriodPullDownText(e,t)},TooltipText:"For mean temperature and precipitation, the entire available period of 1895-2020 should be displayed and it is thus the only option. For annual threshold graphics, the longest period of 1900-2020 should generally be chosen if available to represent a fuller range of observed variability. However, for some states, there are few or no stations that satisfy the missing data criterion (less than 10% missing daily data) and the shorter period of 1950-2020 is the only option. This shorter period is offered as an option for all of the regions and states for the threshold graphs. It may be a better option in some cases if the major features of variability occur after 1950; in that case, the greater number of stations that are used in the calculations provide for more robust statistics"}))),n.a.createElement(d.a,{item:!0,xs:12,className:Ge.sandboxExports},n.a.createElement(je,{handleDownloadChartAsCSVa:function(){var e,t,a,r,n,i,o,l,s,c=[(i=pe[0].x,o=pe[0].y,e=i.map((function(e,t){return{year:e,value:o[t]}})),t=e,a=function(e,t){return null===t?"":t},r=Object.keys(t[0]),n=t.map((function(e){return r.map((function(t){return JSON.stringify(e[t],a).replace(/\\"/g,'""')})).join(",")})),n.unshift(r.join(",")),n=n.join("\r\n"))],h="".concat(J,"-").concat(K,"-").concat(Z,"-").concat(ae,".csv");l=h,s=new Blob(c,{type:"text/csv;charset=utf-8"}),u.a.saveAs(s,l)},handleDownloadChartAsPNGa:function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=document.querySelector(".PlotRegionDiv").parentElement,n=document.querySelector(".user-select-none.svg-container"),i=lt(e,t,a),o=r.getAttribute("width"),l=r.getAttribute("height"),s=n.getAttribute("width"),c=n.getAttribute("height");i&&(r.style.width="".concat(t,"px"),n.style.width="".concat(t,"px"),r.style.height="".concat(a,"px"),n.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize"))),setTimeout((function(){var t=Array.from(document.querySelectorAll(e)),a=t[0].getAttribute("width"),u=t[0].getAttribute("height"),h=document.createElement("div");h.setAttribute("id","merged-div");var d=document.createElement("svg");d.setAttribute("xmlns",t[0].getAttribute("xmlns")),d.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),d.setAttribute("width",a),d.setAttribute("height",u),d.setAttribute("style",t[0].getAttribute("style")),h.appendChild(d),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){var t=e.cloneNode(!0),a=rt(t);d.appendChild(a)}))}));var m=new Blob([d.outerHTML],{type:"image/svg+xml;charset=utf-8"}),p=(window.URL||window.webkitURL||window).createObjectURL(m),g=new Image;g.onload=function(){var e=document.createElement("canvas");e.width=a,e.height=u,e.getContext("2d").drawImage(g,0,0,a,u);var t=e.toDataURL();ot(t,"png"),i&&(r.style.width=o,n.style.width=s,r.style.height=l,n.style.height=c,window.dispatchEvent(new Event("resize")))},g.src=p}),500)}(e,t,a)},handleDownloadChartAsSVGa:st,handleSwtichAverageAndYearlya:function(){return ce("avg"),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:"avg",chartOnlyProp:"no"}),null},handleSwtichMovingAverageAndYearlya:function(){return ce("mavg"),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:"mavg",chartOnlyProp:"no"}),null},handleSwtichYearlyToLinea:function(){return ce("year"),de("no"),Ye({chartDataRegion:J,chartDataLocation:K,chartDataClimatevariable:Z,chartDataPeriod:ae,chartDataSeason:ie,climateDataFilesJSONFile:be,chartLineChart:"year",chartOnlyProp:"no"}),null},handleMailToTSUa:function(){var e=new k,t=document.createElement("a"),a=e.getChartTitle({climatevariable:Z,region:J,titleLocation:K,chartDataSeason:ie}),r="I created a chart to show the ".concat(a,", using the NCA Sandbox. Here is a link to the chart: \n ").concat(encodeURIComponent(window.location.href));t.href="mailto:mail@example.org?subject=".concat("Here is my chart for the NCA","&body=").concat(r);var n=new MouseEvent("click");return t.dispatchEvent(n),t.remove(),null},lineChart:se})))),n.a.createElement(d.a,{item:!0,xs:12,display:"flex",flex:1,className:Ge.sandboxChartRegion},n.a.createElement(m.a,{display:"flex",flexDirection:"row",m:1,width:1,justifyContent:"center",flex:1,flexGrow:3},n.a.createElement(Q,{shouldOpenAlert:M,errorType:H,chartErrorTitle:z,chartErrorMessage:j})),n.a.createElement(m.a,{display:"flex",flexDirection:"row",m:1,justifyContent:"center",flex:1,flexGrow:3,className:Ge.sandboxChartRegionBox},n.a.createElement(C.default,{plotlyData:pe,plotlyLayout:ve})))))}function nt(){return n.a.createElement("div",{className:"sandbox-holderofall"},n.a.createElement(rt,null))}rt.propTypes={chartDataRegion:s.a.string,chartDataLocation:s.a.string,chartDataClimatevariable:s.a.string,chartDataPeriod:s.a.string,chartDataSeason:s.a.string,climateDataFilesJSONFile:s.a.object,chartLineChart:s.a.string,chartOnlyProp:s.a.string},o.a.render(n.a.createElement(nt,null),document.querySelector("#root"))}},[[451,0,1,4]]]);