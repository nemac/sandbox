"use strict";(self.webpackChunknca_sandbox_charts=self.webpackChunknca_sandbox_charts||[]).push([[826,573],{126:function(e,t,a){a.d(t,{Z:function(){return g}});var r=a(1),n=a(127),i=a.n(n),o=a(172),l=a(2),s=a.n(l);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p=(0,o.Z)(i());function g(e){var t,a,n=e.plotlyData,i=d({},{responsive:!0,displayModeBar:!1}),o=r.useRef(),l=(t=r.useState(d({},e.plotlyLayout)),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}}(t,a)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],h=l[1],m=r.useRef(s),g=function(e){m.current=e,h(e)},f=function(){var e=o.current;if(!e)return null;var t=e,a=m.current;a.width=t.parentNode.getBoundingClientRect().width,a.height=t.getBoundingClientRect().height-24;var r,n=window.innerWidth<=1e3?90:0,i=window.innerWidth<=768?10:5,l=window.innerWidth<=768?.5:.4;if(a.xaxis&&(a.xaxis.tickangle=n,a.xaxis.dtick=i),a.legend&&(a.legend.x=window.innerWidth<=768?0:.65,a.legend.y=window.innerWidth<=768?-.15:1.125),a.title){var s=a?(r=a.title.text).indexOf("<br>",0)>0&&window.innerWidth<=768?r:r.replace("<br>"," "):"",c=function(e){if(e.indexOf("<br>",0)>0)return e;for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}(s);a.title.text=window.innerWidth<=768?c:s,a.title.x=l}return g(d({},a)),window.dispatchEvent(new Event("resizedone")),null};return r.useLayoutEffect((function(){g(e.plotlyLayout),f()}),[e.plotlyLayout]),r.useEffect((function(){return window.addEventListener("resize",f),function(){window.removeEventListener(f)}}),[]),r.createElement("div",c({className:"PlotRegionDiv"},{ref:o}),r.createElement(p,{data:n,layout:m.current,config:i,revision:Math.floor(1e5*Math.random())}))}g.propTypes={plotlyLayout:s().object,plotlyData:s().array}},193:function(e,t,a){var r=a(1),n=a(19),i=(a(197),a(2)),o=a.n(i),l=a(125),s=a.n(l),c=a(364),u=a(446),h=a(399),d=a(448),m=a(430),p=a(431),g=a(449),f=a(451),v=a(453),x=a(441),y=a(452),b=a(126),w=(new Date).getFullYear()-1,T=function(){return[{value:"1900-current",pullDownText:"1900—".concat(w),range:[1900,w],season:"yearly"},{value:"1950-current",pullDownText:"1950—".concat(w),range:[1950,w],season:"yearly"},{value:"1895-current",pullDownText:"1895—".concat(w),range:[1895,w],season:"ann"},{value:"1895-current",pullDownText:"1895—".concat(w),range:[1895,w],season:"djf"},{value:"1895-current",pullDownText:"1895—".concat(w),range:[1895,w],season:"mam"},{value:"1895-current",pullDownText:"1895—".concat(w),range:[1895,w],season:"jja"},{value:"1895-current",pullDownText:"1895—".concat(w),range:[1895,w],season:"son"}]};function D(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.climateVariableValue=t,this.peroids=T(),this.climateVariableValueNames=[{value:"1inch",pullDownText:"Days with Precipitation Greater than 1 inch",chartTitle:"Number of Days with Precipitation Greater than 1 inch",season:"yearly"},{value:"2inch",pullDownText:"Days with Precipitation Greater than 2 inches",chartTitle:"Number of Days with Precipitation Greater than 2 inches",season:"yearly"},{value:"3inch",pullDownText:"Days with Precipitation Greater than 3 inches",chartTitle:"Number of Days with Precipitation Greater than 3 inches",season:"yearly"},{value:"4inch",pullDownText:"Days with Precipitation Greater than 4 inches",chartTitle:"Number of Days with Precipitation Greater than 4 inches",season:"yearly"},{value:"tmax0F",pullDownText:"Days with Maximum Temperature Below 0°F",chartTitle:"Number of Days with Maximum Temperature Below 0°F",season:"yearly"},{value:"tmax32F",pullDownText:"Days with Maximum Temperature Below 32°F",chartTitle:"Number of Days with Maximum Temperature Below 32°F",season:"yearly"},{value:"tmax90F",pullDownText:"Days with Maximum Temperature Above 90°F",chartTitle:"Number of Days with Maximum Temperature Above 90°F",season:"yearly"},{value:"tmax95F",pullDownText:"Days with Maximum Temperature Above 95°F",chartTitle:"Number of Days with Maximum Temperature Above 95°F",season:"yearly"},{value:"tmax100F",pullDownText:"Days with Maximum Temperature Above 100°F",chartTitle:"Number of Days with Maximum Temperature Above 100°F",season:"yearly"},{value:"tmin0F",pullDownText:"Days with Minimum Temperature Below 0°F",chartTitle:"Number of Days with Minimum Temperature Below 0°F",season:"yearly"},{value:"tmin32F",pullDownText:"Days with Minimum Temperature Below 32°F",chartTitle:"Number of Days with Minimum Temperature Below 32°F",season:"yearly"},{value:"tmin70F",pullDownText:"Days with Minimum Temperature Above 70°F",chartTitle:"Number of Days with Minimum Temperature Above 70°F",season:"yearly"},{value:"tmin75F",pullDownText:"Days with Minimum Temperature Above 75°",chartTitle:"Number of Days with Minimum Temperature Above 75°",season:"yearly"},{value:"tmin80F",pullDownText:"Days with Minimum Temperature Above 80°F",chartTitle:"Number of Days with Minimum Temperature Above 80°F",season:"yearly"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Annual (Jan—Dec) Total Precipitation",season:"ann"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Annual (Jan—Dec) Average Temperature",season:"ann"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Annual (Jan—Dec) Average Minimum Temperature",season:"ann"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Annual (Jan—Dec) Average Maximum Temperature",season:"ann"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Winter (Dec, Jan, Feb) Total Precipitation",season:"djf"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Temperature",season:"djf"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Minimum Temperature",season:"djf"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Winter (Dec, Jan, Feb) Average Maximum Temperature",season:"djf"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Spring (Mar, Apr, May) Total Precipitation",season:"mam"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Spring (Mar, Apr, May) Average Temperature",season:"mam"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Spring (Mar, Apr, May) Average Minimum Temperature",season:"mam"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Spring (Mar, Apr, May) Average Maximum Temperature",season:"mam"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Summer (Jun, Jul, Aug) Total Precipitation",season:"jja"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Temperature",season:"jja"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Minimum Temperature",season:"jja"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Summer (Jun, Jul, Aug) Average Maximum Temperature",season:"jja"},{value:"pcpn",pullDownText:"Total Precipitation",chartTitle:"Fall (Sep, Oct, Nov) Total Precipitation",season:"son"},{value:"tmpc",pullDownText:"Average Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Temperature",season:"son"},{value:"tmin",pullDownText:"Average Minimum Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Minimum Temperature",season:"son"},{value:"tmax",pullDownText:"Average Maximum Temperature",chartTitle:"Fall (Sep, Oct, Nov) Average Maximum Temperature",season:"son"},{value:"cddc",pullDownText:"Cooling Degree Days",chartTitle:"Annual (Jan—Dec) Cooling Degree Days",season:"ann"},{value:"cddc",pullDownText:"Cooling Degree Days",chartTitle:"Winter (Dec, Jan, Feb) Cooling Degree Days",season:"djf"},{value:"cddc",pullDownText:"Cooling Degree Days",chartTitle:"Spring (Mar, Apr, May) Cooling Degree Days",season:"mam"},{value:"cddc",pullDownText:"Cooling Degree Days",chartTitle:"Summer (Jun, Jul, Aug) Cooling Degree Days",season:"jja"},{value:"cddc",pullDownText:"Cooling Degree Days",chartTitle:"Fall (Sep, Oct, Nov) Cooling Degree Days",season:"son"},{value:"hddc",pullDownText:"Heating Degree Days",chartTitle:"Annual (Jan—Dec) Heating Degree Days",season:"ann"},{value:"hddc",pullDownText:"Heating Degree Days",chartTitle:"Winter (Dec, Jan, Feb) Heating Degree Days",season:"djf"},{value:"hddc",pullDownText:"Heating Degree Days",chartTitle:"Spring (Mar, Apr, May) Heating Degree Days",season:"mam"},{value:"hddc",pullDownText:"Heating Degree Days",chartTitle:"Summer (Jun, Jul, Aug) Heating Degree Days",season:"jja"},{value:"hddc",pullDownText:"Heating Degree Days",chartTitle:"Fall (Sep, Oct, Nov) Heating Degree Days",season:"son"}],this.LocationNames=[{value:"AK",pullDownText:"Alaska"},{value:"AL",pullDownText:"Alabama"},{value:"AZ",pullDownText:"Arizona"},{value:"AR",pullDownText:"Arkansas"},{value:"CA",pullDownText:"California"},{value:"CO",pullDownText:"Colorado"},{value:"CT",pullDownText:"Connecticut"},{value:"DE",pullDownText:"Delaware"},{value:"FL",pullDownText:"Florida"},{value:"GA",pullDownText:"Georgia"},{value:"HI",pullDownText:"Hawai'i"},{value:"ID",pullDownText:"Idaho"},{value:"IL",pullDownText:"Illinois"},{value:"IN",pullDownText:"Indiana"},{value:"IA",pullDownText:"Iowa"},{value:"KS",pullDownText:"Kansas"},{value:"KY",pullDownText:"Kentucky"},{value:"LA",pullDownText:"Louisiana"},{value:"ME",pullDownText:"Maine"},{value:"MD",pullDownText:"Maryland"},{value:"MA",pullDownText:"Massachusetts"},{value:"MI",pullDownText:"Michigan"},{value:"MN",pullDownText:"Minnesota"},{value:"MS",pullDownText:"Mississippi"},{value:"MO",pullDownText:"Missouri"},{value:"MT",pullDownText:"Montana"},{value:"NE",pullDownText:"Nebraska"},{value:"NV",pullDownText:"Nevada"},{value:"NH",pullDownText:"New Hampshire"},{value:"NJ",pullDownText:"New Jersey"},{value:"NM",pullDownText:"New Mexico"},{value:"NY",pullDownText:"New York"},{value:"NC",pullDownText:"North Carolina"},{value:"ND",pullDownText:"North Dakota"},{value:"OH",pullDownText:"Ohio"},{value:"OK",pullDownText:"Oklahoma"},{value:"OR",pullDownText:"Oregon"},{value:"PA",pullDownText:"Pennsylvania"},{value:"PR",pullDownText:"Puerto Rico"},{value:"RI",pullDownText:"Rhode Island"},{value:"SC",pullDownText:"South Carolina"},{value:"SD",pullDownText:"South Dakota"},{value:"TN",pullDownText:"Tennessee"},{value:"TX",pullDownText:"Texas"},{value:"UT",pullDownText:"Utah"},{value:"VT",pullDownText:"Vermont"},{value:"VA",pullDownText:"Virginia"},{value:"VI",pullDownText:"Virgin Islands"},{value:"WA",pullDownText:"Washington"},{value:"WV",pullDownText:"West Virginia"},{value:"WI",pullDownText:"Wisconsin"},{value:"WY",pullDownText:"Wyoming"},{value:"National",pullDownText:"National"},{value:"Northeast",pullDownText:"Northeast"},{value:"Southeast",pullDownText:"Southeast"},{value:"Midwest",pullDownText:"Midwest"},{value:"Northern Great Plains",pullDownText:"Northern Great Plains"},{value:"Northwest",pullDownText:"Northwest"},{value:"Southwest",pullDownText:"Southwest"},{value:"Southern Great Plains",pullDownText:"Southern Great Plains"},{value:"Alaska",pullDownText:"Alaska"},{value:"Hawaii",pullDownText:"Hawai'i and Pacific Islands"},{value:"Puerto Rico",pullDownText:"U.S. Caribbean (Includes Puerto Rico & USVI)"}],this.seasons=[{value:"yearly",pullDownText:"Annual: Threshold Exceedances (Jan—Dec)"},{value:"ann",pullDownText:"Annual: Mean Temperature, Precipitation, or Degree Days (Jan—Dec)"},{value:"mam",pullDownText:"Spring: Mean Temperature, Precipitation, or Degree Days (Mar—May)"},{value:"jja",pullDownText:"Summer: Mean Temperature, Precipitation, or Degree Days (Jun—Aug)"},{value:"son",pullDownText:"Fall: Mean Temperature, Precipitation, or Degree Days (Sep—Nov)"},{value:"djf",pullDownText:"Winter: Mean Temperature, Precipitation, or Degree Days (Dec—Feb)"}]}var t,a;return t=e,(a=[{key:"getChartTitle",value:function(e){if(!e.climatevariable)return"";var t=this.climateVariableValueNames.filter((function(t){return t.value===e.climatevariable&&t.season===e.chartDataSeason}))[0].chartTitle;return"National"===e.region&&(t="".concat(t," (National)")),"Regional"===e.region&&(t="".concat(t," (NCA Region ").concat(e.titleLocation,")")),"State"===e.region&&(t="".concat(t," (").concat(e.titleLocation,")")),t}},{key:"getClimateVariablePullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.climateVariableValueNames,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodPullDownText",value:function(e,t){if(!e)return"";if(!t)return"";var a=this.peroids,r=a.filter((function(a){return a.value===e&&a.season===t}));return 0===r.length?a.filter((function(e){return e.season===t}))[0].pullDownText:r[0].pullDownText}},{key:"getPeriodRange",value:function(e){return e?this.peroids.filter((function(t){return t.value===e}))[0].range:""}},{key:"getSeasonPullDownText",value:function(e){return e?this.seasons.filter((function(t){return t.value===e}))[0].pullDownText:""}},{key:"getLocationDownText",value:function(e){if(!e)return"";var t=this.LocationNames.filter((function(t){return t.value.toUpperCase()===e.toUpperCase()})),a=e;return t[0]&&(a=t[0].pullDownText),a}}])&&D(t.prototype,a),e}();function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function P(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.smallScreen=768,this.verySmallScreen=500,this.blue="4, 90, 141",this.red="189, 0, 38",this.green="127, 188, 65",this.brown="153, 52, 4",this.chartBackgroundColor="#FBFCFE",this.annualLineColor="#000000",this.precipitationColor="#5AB4AC",this.temperatureColor="#FEB24C",this.heatingDegreeColor="#DB1E1C",this.coolingDegreeColor="#2276B4",this.bargap=.15,this.showLegend=!0,this.legendBarLineX=window.innerWidth<=this.smallScreen?0:.65,this.legendBarLineY=window.innerWidth<=this.smallScreen?-.15:1.125,this.font="Arial",this.zeroLineColor="#000000",this.zerolinewidth="1.25",this.gridColor="#BFBFBF",this.SourceFontColor="#000000",this.AverageAllFontColor="#858585",this.AverageAllColor="#858585",this.AverageMovingColor="#858585",this.AverageAllWidth="6",this.AverageAllFontSize="14pt",this.AverageWidth="3",this.AverageColor="#000000",this.gridWidth="1",this.fontSizePrimary="14pt",this.fontSizeLabels="12pt",this.fontSizeLabelsSecondary="12pt",this.xmin=t.xmin,this.xmax=t.xmax,this.xvals=t.xvals,this.yvals=t.yvals,this.lineChart=t.chartLineChart,this.maxVal=Math.max.apply(Math,S(this.yvals)),this.minVal=Math.min.apply(Math,S(this.yvals)),this.shortTitle=e.splitTitle(t.chartTitle),this.chartTitle=window.innerWidth<=this.smallScreen?this.shortTitle:t.chartTitle,this.SmallScreenBreak=window.innerWidth<=this.smallScreen?"<br>":"",this.chartTitleX=window.innerWidth<=this.smallScreen?.5:.4,this.legnedText=t.legnedText,this.chartType=t.chartType,this.climatevariable=t.climatevariable,this.season=t.season,this.barColor=this.setChartColor(this.chartType),this.periodGroups=t.periodGroups?t.periodGroups:5,this.AverageMovingPeriod=5,this.textAngle=window.innerWidth<=1e3?90:0,this.dtick=window.innerWidth<=this.smallScreen?10:5,this.yValsSumByPeriod=this.yValsSumByPeriod(),this.yValsAvgByPeriod=this.yValsAvgByPeriod(),this.yValsMovingAverage=this.computeMovingAverage(),this.xValsMovingAverage=this.movingAverageXValues(),this.xValsPeriod=this.xValsPeriod();var a=this.yValsSumAll();this.yValsSumAll=a<=-50?void 0:a;var r=this.yValsAvgAll();this.yValsAvgAll=r<=-50?0:r;var n=this.minVal<0?0:this.minVal;this.prettyRange=e.pretty([n,this.maxVal]),this.yRange=[this.prettyRange[0],this.prettyRange[this.prettyRange.length-1]],this.yAxisText=this.createYAxisText(),this.legendPerText=this.createlegendPerText(),this.legendEllapsedText=this.legendEllapsedText(),this.averageTextUnits=this.averageTextUnits()}var t,a,r;return t=e,r=[{key:"splitTitle",value:function(e){if(!e)return"";for(var t=e.length,a=e,r=25;r<t;r=r+5+25){var n=a.indexOf(" ",r);n>0&&(a="".concat(a.substring(0,n),"<br>").concat(a.substring(n+1)))}return a}},{key:"pretty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(t,10)/3,n=.75,i=1.5,o=.5+1.5*i,l=Math.abs(e[0]-e[1]),s=l/t;Math.log(l)/Math.LN10<-2&&(s=Math.max(Math.abs(l))*n/r);var c=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=0;c<1&&(u=Math.abs(Math.round(Math.log(c)/Math.LN10)));var h=c;2*c-s<i*(s-h)&&5*c-s<o*(s-(h=2*c))&&10*c-s<i*(s-(h=5*c))&&(h=10*c);var d=[],m=0;for(e[0]<=h?m=0:(m=Math.floor(e[0]/h)*h,m=parseFloat(m.toFixed(u)));m<e[1];)d.push(m),m+=h,u>0&&(m=parseFloat(m.toFixed(u)));return d.push(m),a&&(d[0]<e[0]&&(d=d.slice(1)),d[d.length-1]>e[1]&&d.pop()),d}},{key:"uuidv",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}],(a=[{key:"setChartColor",value:function(e){switch(e){case"Precipitation":return this.precipitationColor;case"Temperature":default:return this.temperatureColor;case"CoolingDays":return this.coolingDegreeColor;case"HeatingDays":return this.heatingDegreeColor}}},{key:"hoverTemplateSeasonText",value:function(){var e=(new C).getSeasonPullDownText(this.season);return"yearly"!==this.season?"ann"===this.season?"annually":e.toLowerCase().split(" ")[0].replace(":",""):"year"}},{key:"hoverTemplateClimateVariableText",value:function(){return"yearly"!==this.season?this.climatevariable.toLowerCase():this.climatevariable.toLowerCase().replace("precipitation","precipitation").replace("minimum","the minimum").replace("maximum","the maximum")}},{key:"hoverTemplateSeasonTextPrefix",value:function(){return"yearly"!==this.season?"ann"===this.season?"":"during the":"for the"}},{key:"textUnitsWords",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"inches":"°F":(this.season,"days")}},{key:"averageTextUnits",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?'"':"°F":(this.season,"days")}},{key:"yearLineText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText().replace("°f","°F"),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n).concat(this.SmallScreenBreak," was %{y:0.2f} ").concat(i," ").concat(a," ").concat(r," <extra></extra>").replace(/ {2}/g," "):" In %{x} there was an average of %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"yearBarText",value:function(e,t){var a=this.hoverTemplateSeasonTextPrefix(),r=this.hoverTemplateSeasonText(),n=this.hoverTemplateClimateVariableText(),i=this.averageTextUnits;return"yearly"!==this.season?" In %{x} the ".concat(n).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(i," ").concat(a," ").concat(r,"   <extra></extra>").replace(/ {2}/g," "):" In %{x} there were an average of %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"averageBarText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText().replace("°f","°F"),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between the years %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(i," <extra></extra>").replace(/ {2}/g," ")}},{key:"averageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak," ").concat(i," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"movingAverageLineText",value:function(e,t,a){var r=this.hoverTemplateSeasonTextPrefix(),n=this.hoverTemplateSeasonText(),i=this.hoverTemplateClimateVariableText(),o=this.averageTextUnits;return"yearly"!==this.season?" Between %{customdata} the ".concat(i).concat(this.SmallScreenBreak," was %{y:0.2f}").concat(o," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," "):" Between %{customdata} there were %{y:0.2f}".concat(this.SmallScreenBreak).concat(i," ").concat(r," ").concat(n," <extra></extra>").replace(/ {2}/g," ")}},{key:"legendEllapsedText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t=this.textUnitsWords();return"".concat(t," ").concat(e.split(" ")[0].toLowerCase())}return this.season,"days"}},{key:"createlegendPerText",value:function(){if("yearly"!==this.season){var e=this.hoverTemplateSeasonText(),t="for ";return"ann"===this.season&&(t=""),"".concat(t).concat(e.split(" ")[0].toLowerCase())}return this.season,"per year"}},{key:"createYAxisText",value:function(){return"yearly"!==this.season?"Precipitation"===this.chartType?"Inches":"Temperature (°F)":(this.season,"Days")}},{key:"isAllZeros",value:function(){return 0===this.maxVal&&0===this.minVal}},{key:"hasData",value:function(){return!(Number.isNaN(this.maxVal)||Number.isNaN(this.minVal)||-999===this.maxVal&&-999===this.minVal||0===this.maxVal&&-999===this.minVal)}},{key:"computeMovingAverage",value:function(){var e=this.yvals,t=this.AverageMovingPeriod,a=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},r=[];if(t>e.length)return a(e);for(var n=0;n+t-1<e.length;n+=1)r.push(a(e.slice(n,n+t)));return r}},{key:"movingAverageXValues",value:function(){for(var e=this.xvals,t=this.AverageMovingPeriod,a=[],r=t-Math.floor(this.periodGroups/2)-1;r-t-1<e.length;r+=1)a.push(e[r]);return a}},{key:"xValsAverageBarHoverText",value:function(){var e=this,t=0;return this.xvals.map((function(a,r){if(0===r){var n=a+(e.periodGroups-1),i="".concat(a,"—").concat(n.toString().slice(0));return t+=1,i}if(t===e.periodGroups){t=0;var o=a+(e.periodGroups-1),l="".concat(a,"—").concat(o.toString().slice(0));return t+=1,l}t+=1})).filter((function(e){return void 0!==e}))}},{key:"xValsPeriod",value:function(){var e=this,t=0,a=Math.floor(this.periodGroups/2);return this.xvals.map((function(r,n){return 0===n?r<=-50?void 0:r+a:t===e.periodGroups-1?(t=0,r<=-50?void 0:r+a):void(t+=1)})).filter((function(e){return void 0!==e}))}},{key:"yValsSumAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)}},{key:"yValsSumByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=a+=i<=-50?void 0:i,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a+=i,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"yValsAvgAll",value:function(){return this.yvals.reduce((function(e,t){return e+t}),0)/this.yvals.length}},{key:"yValsAvgByPeriod",value:function(){var e=this,t=0,a=0,r=0,n=this.yvals.length-1;return this.yvals.map((function(i,o){return t===e.periodGroups-1?(r=(a+=i<=-50?void 0:i)/e.periodGroups,t=0,a=0,Number(Number(r).toFixed(4))):(a+=i<=-50?void 0:i,t+=1,o===n?(r=a/t,Number(Number(r).toFixed(4))):void 0)})).filter((function(e){return void 0!==e}))}},{key:"setXRange",value:function(e){this.xmin=e.xmin,this.xmax=e.xmax}},{key:"setTitle",value:function(e){this.chartTitle=e.chartTitle}},{key:"getXvalues",value:function(){for(var e=[],t=this.xmin;t<=this.xmax;t+=1)e.push(t.toString());return e}},{key:"getYvalues",value:function(){var e=[],t=this.xmin;for(this.yvals=this.yvals.map((function(e){var t=e;return e<0&&(t=void 0),t}));t<parseInt(this.xvals[0],10);)t+=1,e.push("0");for(var a=0;t<=parseInt(this.xvals[this.xvals.length-1],10);)e.push(this.yvals[a]),a+=1,t+=1;for(;t<=this.xmax;)t+=1,e.push("0");return e}},{key:"zeroOutChartData",value:function(){this.yvals=[0],this.yValsSumByPeriod=[0],this.yValsAvgByPeriod=[0],this.yRange=[0,4],this.yValsSumAll=1e-8,this.yValsAvgAll=1e-8}},{key:"getData",value:function(){if(this.hasData()&&!this.isAllZeros()||this.zeroOutChartData(),this.maxVal===-1/0)return[{}];switch(this.lineChart){case"year":default:return[this.traceAverageBar(),this.traceYearlyLine()];case"avg":return[this.traceYearlyBar(),this.traceAverageLine()];case"mavg":return[this.traceYearlyBar(),this.traceMovingAverageLine()]}}},{key:"getLayout",value:function(){switch(this.lineChart){case"year":default:return this.layoutAverageBar();case"avg":case"mavg":return this.layoutYearBar()}}},{key:"traceAverageBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"5—Year Average (".concat(this.legendEllapsedText,")"),type:"histogram",histfunc:"avg",xbins:{start:this.xmin,end:this.xmax,size:5},nbinsx:0,x:this.xvals,y:this.getYvalues(),bargroupgap:5,marker:{line:{color:this.barColor,width:1},color:this.barColor},hoverinfo:"x+y",customdata:this.xValsAverageBarHoverText(),hovertemplate:this.averageBarText(),legendgroup:1,orientation:"v"}}},{key:"traceYearlyLine",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"scatter",x:this.xvals,y:this.getYvalues(),marker:{color:this.annualLineColor},line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"linear",simplify:!0},connectgaps:!0,hoverinfo:"x+y",hovertemplate:this.yearLineText()}}},{key:"traceYearlyBar",value:function(){return{uid:e.uuidv(),mode:"lines",name:"Average ".concat(this.textUnitsWords()," ").concat(this.legendPerText),type:"bar",x:this.xvals,y:this.getYvalues(),xbins:{start:this.xmin,end:this.xmax,size:5},marker:{line:{color:this.barColor,width:1},color:this.barColor},histfunc:"sum",hoverinfo:"x+y",legendgroup:1,orientation:"v",hovertemplate:this.yearBarText()}}},{key:"traceMovingAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5—Year moving average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsMovingAverage,y:this.yValsMovingAverage,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsMovingAverage.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2),"—").concat(e-Math.floor(t.periodGroups/2)+t.AverageMovingPeriod)})),hoverinfo:"x+y",hovertemplate:this.movingAverageLineText()}}},{key:"traceAverageLine",value:function(){var t=this;return{uid:e.uuidv(),mode:"lines",name:"5—Year average (".concat(this.legendEllapsedText,")"),type:"scatter",x:this.xValsPeriod,y:this.yValsAvgByPeriod,line:{color:this.AverageColor,width:this.AverageWidth,dash:"solid",shape:"spline",simplify:!0},connectgaps:!0,customdata:this.xValsPeriod.map((function(e){return"".concat(e-Math.floor(t.periodGroups/2),"—").concat(e-Math.floor(t.periodGroups/2)+t.periodGroups-1)})),hoverinfo:"x+y",hovertemplate:this.averageLineText()}}},{key:"layoutAverageBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"closest",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average ".concat(this.yValsAvgAll.toFixed(1)," ").concat(this.averageTextUnits),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:10,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}},{key:"layoutYearBar",value:function(){return{displayModeBar:!1,showlegend:this.showLegend,autosize:!0,height:1,bargap:this.bargap,plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor,legend:{yanchor:"top",autosize:!0,orientation:"h",x:this.legendBarLineX,y:this.legendBarLineY,font:{family:this.font,size:this.fontSizeLabels}},title:{text:this.chartTitle,font:{family:this.font,size:this.fontSizePrimary},x:this.chartTitleX},xaxis:{type:"linear",range:[this.xmin-5,this.xmax+5],autorange:!1,automargin:!1,showspikes:!1,zeroline:!0,showline:!1,showgrid:!1,fixedrange:!0,rangemode:"tozero",zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,dtick:this.dtick,tick0:0,tickangle:this.textAngle,tickformat:"",tickprefix:"",nticks:this.periodGroups,ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,tickfont:{family:this.font,size:this.fontSizeLabelsSecondary},title:{text:"Year",font:{family:this.font,size:this.fontSizeLabels}},constraintoward:"center",spikethickness:4,displayModeBar:!1,autosize:!0},yaxis:{title:{text:this.yAxisText,font:{family:this.font,size:this.fontSizeLabels}},rangemode:"tozero",range:this.yRange,type:"linear",ticks:"outside",tickcolor:this.zeroLineColor,tickwidth:this.zerolinewidth,autorange:!1,showspikes:!1,fixedrange:!0,showline:!0,linecolor:this.zeroLineColor,linewidth:this.zerolinewidth,zerolinecolor:this.zeroLineColor,zerolinewidth:this.zerolinewidth,gridcolor:this.gridColor,gridwidth:this.gridwidth,bargap:this.bargap},template:{layout:{hovermode:"x",plot_bgcolor:this.chartBackgroundColor,paper_bgcolor:this.chartBackgroundColor}},annotations:[{xref:"x",yref:"y",x:this.xmax+2.5,y:this.yValsAvgAll.toFixed(1),text:"Average ".concat(this.yValsAvgAll.toFixed(1)," ").concat(this.averageTextUnits),showarrow:!0,arrowhead:7,arrowsize:2,arrowwidth:2,arrowcolor:this.AverageAllColor,ay:-100,ax:35,bgcolor:"#ffffff",font:{family:this.font,size:this.AverageAllFontSize,color:this.AverageAllFontColor}}],shapes:[{type:"line",layer:"below",x0:this.xmin-5,y0:this.yValsAvgAll.toFixed(1),x1:this.xmax+5,y1:this.yValsAvgAll.toFixed(1),line:{color:this.AverageAllColor,width:this.AverageAllWidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:0,x1:this.xmax+5,y1:0,line:{color:this.zeroLineColor,width:this.zerolinewidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[this.yRange.length-1],x1:this.xmax+5,y1:this.yRange[this.yRange.length-1],line:{color:this.gridColor,width:this.gridwidth}},{type:"line",layer:"above",x0:this.xmin-5,y0:this.yRange[0],x1:this.xmax+5,y1:this.yRange[0],line:{color:this.zeroLineColor,width:this.zerolinewidth}}]}}}])&&P(t.prototype,a),r&&P(t,r),e}(),E=V,N=a(404),k=a(427),M=a(400),L=a(392),F=a(406),B=a(432),I=(0,c.Z)((function(e){return{formControl:{margin:e.spacing(0),minWidth:120,backgroundColor:"#E6E6E6"},menuItem:{textAlign:"left"},sandboxInputLabel:{color:"#5C5C5C"},sandboxErrorText:(t={backgroundColor:"#FBFCFE",margin:"0px"},a=e.breakpoints.up("md"),r={paddingTop:"3px"},a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t),infoButton:{color:"#5C5C5C",fontSize:"1.25rem",marginLeft:e.spacing(.1),position:"absolute",top:"-0.66rem",left:"-1.75rem",backgroundColor:"#ffffff",borderRadius:"30px"},toolTip:{padding:e.spacing(2),fontSize:"1rem"},pulldownInfoHolder:{position:"relative"}};var t,a,r}));function Z(e){var t,a,n,i=I(),o=e.items,l=e.controlName,s=e.value,c=e.disabled,u=e.missing,d=e.season,g=e.onChange,f=e.TooltipText,v="Select a Climate Variable"===l?e.replaceClimatevariableType:function(e){return e},x="Select a Location"===l?e.replaceLocationAbbreviation:function(e){return e},y="Select a Time Period"===l?e.replacePeriodType:function(e){return e},b="Select the Time Scale"===l?e.replaceSeasonType:function(e){return e},w=u&&!c,D=w?r.createElement(L.Z,{className:i.sandboxErrorText},"* Required"):"";return"Select a Time Period"===l&&(t=o,a=d,n=T().filter((function(e){return e.season===a})),o=t.filter((function(e){return n.some((function(t){return t.value===e}))}))),r.createElement(h.Z,{p:0,display:"flex",width:"100%"},r.createElement(M.Z,{variant:"outlined",className:i.formControl,fullWidth:!0,disabled:c,error:w},r.createElement(N.Z,{id:"demo-simple-select-outlined-label",className:i.sandboxInputLabel},l),r.createElement(F.Z,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s,onChange:function(e){g(e.target.value)},label:l,className:i.menuItem},o.map((function(e){return r.createElement(k.Z,{key:e,value:e,className:i.menuItem},function(e,t,a){switch(e){case"Select a Climate Variable":default:return v(t,a);case"Select a Location":return x(t);case"Select a Region":return n=r=t,"REGIONAL"===r.toUpperCase()&&(n="NCA Region"),n;case"Select a Time Period":return y(t,a);case"Select the Time Scale":return b(t)}var r,n}(l,e,d))}))),D),r.createElement(h.Z,{p:0,m:0,className:i.pulldownInfoHolder},r.createElement(m.ZP,{title:f,"aria-label":f,placement:"bottom-end",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:i.toolTip}},r.createElement(B.Z,{className:i.infoButton}))))}Z.propTypes={items:o().array,controlName:o().string,value:o().string,disabled:o().bool,season:o().string,TooltipText:o().string,missing:o().bool,replaceClimatevariableType:o().func,replaceLocationAbbreviation:o().func,replacePeriodType:o().func,replaceSeasonType:o().func,onChange:o().func};var z=a(435),R=a(436),O=a(433),j=a(434),W=(0,c.Z)((function(e){return{sandboxAlertBox:{color:"#000000",position:"absolute",zIndex:"1000",width:"100%"},sandboxAlertCollapse:{position:"relative",width:"calc(100% - 30px)",marginLeft:"-39px"}}}));function H(e){var t,a=W(),n=e.chartErrorTitle,i=e.chartErrorMessage,o=e.errorType,l=e.shouldOpenAlert,s=O.Z[500],c=O.Z[900],u=j.Z[500],d=j.Z[800];return r.createElement(z.Z,{className:a.sandboxAlertCollapse,in:l},r.createElement(h.Z,{className:a.sandboxAlertBox,bgcolor:(t=o,"Error"===t?s:u),color:"text.primary",p:1,mr:2,borderRadius:4,border:1,borderColor:function(e){return"Error"===e?c:d}(o)},r.createElement(h.Z,{fontWeight:"fontWeightBold",py:1,display:"flex"},r.createElement("div",{className:"sandbox-alert-icon"},r.createElement(R.Z,null)),r.createElement("div",{className:"sandbox-alert-header"},n)),i))}H.propTypes={chartErrorTitle:o().string,chartErrorMessage:o().string,errorType:o().string,shouldOpenAlert:o().bool};var G=a(438),U=a(437),Y=a(447),J=a(443),q=a(405),X=a(419),K=a(439),_=a(440),$=function(){return[{name:"NCA",label:"NCA Standard (4:3)",dimensions:{width:1280,height:960}},{name:"Presentation",label:"Presentation (12:9)",dimensions:{width:1920,height:1080}}]};function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ae=(0,c.Z)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"400px"},te(t,e.breakpoints.down("sm"),{width:"80%"}),te(t,"backgroundColor",e.palette.background.paper),te(t,"border","0px solid transparent"),te(t,"outline","unset"),te(t,"borderRadius","4px"),te(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:te({marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(1)},exportForm:(a={display:"flex",flexDirection:"row"},te(a,e.breakpoints.down("sm"),{flexDirection:"column"}),te(a,"alignItems","flex-start"),te(a,"justifyContent","flex-start"),te(a,"width","100%"),te(a,"marginTop",e.spacing(2)),te(a,"marginBottom",e.spacing(2)),a),exportInput:te({marginTop:e.spacing(3),marginRight:e.spacing(2),width:"45%"},e.breakpoints.down("sm"),{width:"100%"}),exportSmallButtonText:{marginLeft:e.spacing(1)},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)}}}));function re(e){var t=ae(),a=e.open,n=e.handleCustomSizeClose,i=e.exportFunc,o=e.exportHeading,l=e.exportType,s=".js-plotly-plot .main-svg",c=new $,u={name:"Default",dimensions:{width:1250,height:625}},h=function(){var e=document.querySelector(s),t=u.width,a=u.height;return e&&(t=e.getAttribute("width"),a=e.getAttribute("height")),{width:t,height:a}},d=Q((0,r.useState)("Default"),2),m=d[0],p=d[1],g=(0,r.useRef)(m),f=h(),v=Q((0,r.useState)(f.width),2),x=v[0],y=v[1],b=Q((0,r.useState)(f.height),2),w=b[0],T=b[1],D=Q((0,r.useState)(f.width),2),C=D[0],S=D[1],A=Q((0,r.useState)(f.height),2),P=A[0],V=A[1];(0,r.useEffect)((function(){if("Default"===m){var e=h();S(parseInt(e.width,10)),V(parseInt(e.height,10))}}),[a]);var E=function e(t){return"Default"===t?e(m):c.filter((function(e){return e.name===t}))[0].dimensions};(0,r.useEffect)((function(){window.addEventListener("resize",(function(){if("Default"===g.current){var e=h();y(parseInt(e.width,10)),T(parseInt(e.height,10))}}))}),[]);var N=function(e){n(!1)},k=function(e){return m===e?"contained":"outlined"},L=function(e){var t;if(t=e.currentTarget.value,g.current=t,p(t),"Default"===e.currentTarget.value){var a=h();y(parseInt(a.width,10)),T(parseInt(a.height,10))}else{var r=E(e.currentTarget.value);y(parseInt(r.width,10)),T(parseInt(r.height,10))}};return r.createElement(X.Z,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:N,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.createElement("div",{className:t.exportModalDiv},r.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},r.createElement(U.Z,{className:t.exportHeaderIcon})," ",o),r.createElement("div",{className:t.exportDescriptionText},"Change the dimensions of the exported chart"),r.createElement(G.Z,{className:t.exportButtons,onClick:L,variant:k("Default"),color:"primary",value:"Default"},"Default Current Screen Size",r.createElement("small",{className:t.exportSmallButtonText},"(",C," x ",P,")")),c.map((function(e){return r.createElement(G.Z,{key:e.name,className:t.exportButtons,onClick:L,variant:k(e.name),color:"primary",value:e.name},"Default"===(a=e.name)?"Default":c.filter((function(e){return e.name===a}))[0].label,r.createElement("small",{className:t.exportSmallButtonText},"(",E(e.name).width," x ",E(e.name).height,")"));var a})),r.createElement(M.Z,{className:t.exportForm},r.createElement(K.Z,{className:t.exportInput,onChange:function(e){y(parseInt(e.currentTarget.value,10))},id:"outlined-number-width",variant:"outlined",label:"Width",type:"number",value:x,InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.createElement(_.Z,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}}),r.createElement(K.Z,{className:t.exportInput,onChange:function(e){T(parseInt(e.currentTarget.value,10))},id:"outlined-number-height",variant:"outlined",label:"Height",type:"number",value:w,InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.createElement(_.Z,{position:"end"},"PX"),inputProps:{min:250,max:5e3}}})),r.createElement("div",{className:t.exportContainer},r.createElement("div",{className:t.exportStart},r.createElement(G.Z,{className:t.exportButtons,onClick:function(){i(s,x,w),setTimeout((function(){N()}),650)},color:"primary",variant:"contained",startIcon:r.createElement(U.Z,null)},"Export ",l)),r.createElement("div",{className:t.exportEnd},r.createElement(G.Z,{className:t.exportButtons,onClick:N,color:"default",variant:"contained"},"Cancel")))))}re.propTypes={handleCustomSizeClose:o().func,exportFunc:o().func,exportHeading:o().string,exportType:o().string,open:o().bool};var ne=a(444),ie=a(445),oe=a(442);function le(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var he=a(173),de=O.Z[500],me=oe.Z[700],pe=(0,c.Z)((function(e){var t,a;return{exportModal:{display:"flex",alignItems:"center",justifyContent:"center"},exportModalDiv:(t={width:"500px"},ue(t,e.breakpoints.down("sm"),{width:"80%"}),ue(t,"backgroundColor",e.palette.background.paper),ue(t,"border","0px solid transparent"),ue(t,"outline","unset"),ue(t,"borderRadius","4px"),ue(t,"padding",e.spacing(2,4,3)),t),exportHeaderText:{paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat("#E6E6E6")},exportContainer:{paddingTop:e.spacing(2),display:"flex",justifyContent:"flex-end"},exportStart:{display:"flex",marginRight:"auto"},exportEnd:{display:"flex"},exportDescriptionText:ue({marginBottom:e.spacing(2),fontSize:".9em"},e.breakpoints.down("sm"),{fontSize:".75em"}),exportButtons:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},exportForm:(a={display:"flex"},ue(a,e.breakpoints.down("sm"),{flexDirection:"column"}),ue(a,"alignItems","flex-start"),ue(a,"justifyContent","flex-start"),ue(a,"width","100%"),ue(a,"marginTop",e.spacing(2)),ue(a,"marginBottom",e.spacing(2)),a),exportInputVerify:{margin:e.spacing(1),marginBottom:e.spacing(2),width:"100%"},exportInput:{margin:e.spacing(1),width:"100%"},exportHeaderIcon:{fontSize:"1.65rem",marginBottom:e.spacing(-.3)},exportMessage:{margin:e.spacing(1),width:"100%"},figureErrorText:{color:de,marginLeft:e.spacing(2),marginTop:e.spacing(0),paddingTop:e.spacing(0)},messageSentText:{color:me},messageSentFailedText:{color:de},messageCheckCircleOutlineIcon:{color:me,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"},messageHighlightOffIcon:{color:de,marginLeft:e.spacing(3),marginTop:e.spacing(-1),fontSize:"5rem"}}}));function ge(e){var t=pe(),a=e.open,n=e.handleCloseFigure,i=se((0,r.useState)(""),2),o=i[0],l=i[1],s=se((0,r.useState)(""),2),c=s[0],u=s[1],d=se((0,r.useState)(""),2),m=d[0],p=d[1],g=se((0,r.useState)(window.location.href),2),f=g[0],v=g[1],x=(0,r.useRef)(f),y=se((0,r.useState)(""),2),b=y[0],w=y[1],T=se((0,r.useState)(!1),2),D=T[0],C=T[1],S=se((0,r.useState)(!1),2),A=S[0],P=S[1],V=se((0,r.useState)(!1),2),E=V[0],N=V[1],k=se((0,r.useState)(!1),2),F=k[0],B=k[1],I=se((0,r.useState)(!1),2),Z=I[0],R=I[1],O=se((0,r.useState)(!1),2),j=O[0],W=O[1],H=A?"":r.createElement(L.Z,{style:{display:"flex"},className:t.figureErrorText},"Email address is not valid"),U=E?"":r.createElement(L.Z,{style:{display:"flex"},className:t.figureErrorText},"Required"),Y=F?"":r.createElement(L.Z,{style:{display:"flex"},className:t.figureErrorText},"Required"),q={headers:{Accept:"*/*","content-type":"application/json"}},_=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.location.href,x.current=a,v(a),t={authorName:o,authorEmail:c,authorNote:b,chapter:m,figureURL:x.current},e.prev=3,e.next=6,he.post("https://v9bh75u4xh.execute-api.us-east-1.amazonaws.com/dev/submitEmail",JSON.stringify(t),q);case 6:return 200===e.sent.status?(R(!0),C(!1)):(W(!1),R(!1)),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),W(!1),R(!1),e.abrupt("return",!1);case 16:case"end":return e.stop()}var a}),e,null,[[3,11]])})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){le(i,r,n,o,l,"next",e)}function l(e){le(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),$=function(e){return e.length>=2},Q=function(e){n(!1),R(!1)};return r.createElement(X.Z,{disableBackdropClick:!0,disableEscapeKeyDown:!0,className:t.exportModal,classes:{focused:t.exportModal},open:a,onClose:Q,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.createElement("div",{className:t.exportModalDiv},r.createElement("h2",{id:"simple-modal-title",className:t.exportHeaderText},r.createElement(J.Z,{className:t.exportHeaderIcon})," ","Send to TSU"),r.createElement("div",{className:t.exportDescriptionText},"To submit the current figure, please include your email, name, and any details about the figure."),r.createElement(z.Z,{in:Z},r.createElement(h.Z,{display:"flex",alignContent:"center"},r.createElement(ne.Z,{className:t.messageCheckCircleOutlineIcon}),r.createElement("h2",{id:"simple-modal-title",className:t.messageSentText},"Figure sumbitted successfully!"))),r.createElement(z.Z,{in:j},r.createElement(h.Z,{display:"flex",alignContent:"center"},r.createElement(ie.Z,{className:t.messageHighlightOffIcon}),r.createElement("h2",{id:"simple-modal-title",className:t.messageSentFailedText},"Figure sumbitted failed, please try again!"))),r.createElement(z.Z,{in:!D},r.createElement(M.Z,{className:t.exportForm},r.createElement(K.Z,{className:t.exportInput,id:"outlined-text-name",size:"small",required:!0,variant:"outlined",label:"Name",type:"text",disabled:D,value:o,onChange:function(e){var t=e.currentTarget.value;N($(t)),l(t)},error:!E,InputLabelProps:{shrink:!0}}),U,r.createElement(K.Z,{className:t.exportInput,id:"outlined-text-email",size:"small",required:!0,variant:"outlined",label:"Email",type:"text",disabled:D,value:c,onChange:function(e){var t,a=e.currentTarget.value;P(!((t=a).length<4)&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)),u(a)},error:!A,InputLabelProps:{shrink:!0}}),H,r.createElement(K.Z,{className:t.exportInput,id:"outlined-text-chapter",size:"small",required:!0,variant:"outlined",label:"NCA Chapter",type:"text",disabled:D,value:m,onChange:function(e){var t=e.currentTarget.value;B($(t)),p(t)},error:!E,InputLabelProps:{shrink:!0}}),Y,r.createElement(K.Z,{className:t.exportMessage,id:"outlined-text-message",size:"small",variant:"outlined",label:"Notes or Comments",type:"text",disabled:D,value:b,rows:4,multiline:!0,onChange:function(e){w(e.currentTarget.value)},InputLabelProps:{shrink:!0}}))),r.createElement("div",{className:t.exportContainer},r.createElement("div",{className:t.exportStart},r.createElement(G.Z,{className:t.exportButtons,onClick:_,color:"primary",variant:"contained",disabled:D||!E||!A,startIcon:r.createElement(J.Z,null)},"Submit Figure")),r.createElement("div",{className:t.exportEnd},r.createElement(G.Z,{className:t.exportButtons,onClick:Q,color:"default",variant:"contained"},"Close")))))}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function xe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}ge.propTypes={handleCloseFigure:o().func,open:o().bool};var ye=(0,c.Z)((function(e){var t,a,r,n;return{sandboxExportsButtonBox:xe({justifyContent:"flex-end"},e.breakpoints.down("xs"),{margin:e.spacing(1),justifyContent:"unset"}),sandboxSelectedButton:xe({justifyContent:"flex-end"},e.breakpoints.down("xs"),{justifyContent:"unset"}),fabsvg:(t={minWidth:"75px",margin:e.spacing(1)},xe(t,e.breakpoints.down("md"),{fontSize:".80rem"}),xe(t,e.breakpoints.down("xs"),{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),width:"100%"}),t),fabsvgLeft:(a={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(0),borderTopRightRadius:"0px",borderBottomRightRadius:"0px"},xe(a,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),xe(a,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(1),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),a),fabsvgCenter:(r={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(0),borderRadius:"0px"},xe(r,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),xe(r,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(0),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),r),fabsvgRight:(n={minWidth:"150px",marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"},xe(n,e.breakpoints.down("md"),{minWidth:"135px",fontSize:".85rem"}),xe(n,e.breakpoints.down("xs"),{minWidth:"unset",marginTop:e.spacing(0),marginBottom:e.spacing(1),marginLeft:e.spacing(0),marginRight:e.spacing(1),width:"100%"}),n),MenuItem:{textDecoration:"underline"},sandboxExportsButtonBoxForm:xe({flexDirection:"inherit",justifyContent:"flex-end"},e.breakpoints.down("xs"),{flexDirection:"column",width:"100%"}),sandboxExportsButtonBoxFormLabel:{position:"absolute",left:"45%",top:e.spacing(-1.25),fontSize:"0.75rem",color:"#5C5C5C"},toolTip:{padding:e.spacing(2),fontSize:"1rem"}}}));function be(e){var t=ye(),a=e.handleSwtichYearlyToLinea,n=e.handleSwtichAverageAndYearlya,i=e.handleSwtichMovingAverageAndYearlya,o=e.handleDownloadChartAsCSVa,l=e.handleDownloadChartAsPNGa,s=e.handleDownloadChartAsSVGa,c=e.lineChart,d=fe(r.useState(!1),2),g=d[0],f=d[1],v=fe(r.useState(!1),2),x=v[0],y=v[1],b=fe(r.useState(!1),2),w=b[0],T=b[1],D=function(e,t){return t===c?"sandbox-start-icon-selected":"sandbox-start-icon-not-selected"};return r.createElement(u.Z,{container:!0,spacing:0,justify:"flex-end",direction:"row"},r.createElement(u.Z,{item:!0,xs:12,sm:12,md:6,width:"100%"},r.createElement(h.Z,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},r.createElement(M.Z,{component:"fieldset",variant:"outlined",className:t.sandboxExportsButtonBoxForm},r.createElement(q.Z,{component:"legend",className:t.sandboxExportsButtonBoxFormLabel},"Data Display"),r.createElement(m.ZP,{title:"Yearly: Displays data as five-year averages with trendlines showing annual averages and the average for the entire dataset.","aria-label":"Yearly: Displays data as five-year averages with trendlines showing annual averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(e){a(e.target.value)},classes:{root:"".concat(D(0,"year"))},className:t.fabsvgLeft,variant:"contained",color:"default",startIcon:r.createElement(Y.Z,null)},"Yearly")),r.createElement(m.ZP,{title:"Average: Displays data as annual averages with trendlines showing five-year averages and the average for the entire dataset.","aria-label":"Average: Displays data as annual averages with trendlines showing five-year averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(e){n(e.target.value)},classes:{root:"".concat(D(0,"avg"))},className:t.fabsvgCenter,variant:"contained",color:"default",startIcon:r.createElement(Y.Z,null)},"Average")),r.createElement(m.ZP,{title:"Moving Average: Displays data as annual averages with trendlines showing five-year moving averages and the average for the entire dataset.","aria-label":"Moving Average: Displays data as annual averages with trendlines showing five-year moving averages and the average for the entire dataset.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(e){i(e.target.value)},classes:{root:"".concat(D(0,"mavg"))},className:t.fabsvgRight,variant:"contained",color:"default",startIcon:r.createElement(Y.Z,null)},"Moving Average"))))),r.createElement(u.Z,{item:!0,xs:12,sm:12,md:6,width:"100%"},r.createElement(h.Z,{className:t.sandboxExportsButtonBox,fontWeight:"fontWeightBold",mt:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},r.createElement(M.Z,{component:"fieldset",variant:"outlined",className:t.sandboxExportsButtonBoxForm},r.createElement(q.Z,{component:"legend",className:t.sandboxExportsButtonBoxFormLabel},"Export"),r.createElement(m.ZP,{title:"Export data in the current chart to Excel or CSV file.","aria-label":"Export data in the current chart to Excel or CSV file.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(e){o()},className:t.fabsvg,variant:"contained",color:"default",startIcon:r.createElement(U.Z,null)},".CSV")),r.createElement(m.ZP,{title:"Export current chart for a report, social media post, or presentation.","aria-label":"Export current chart for a report, social media post, or presentation.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(){window.dispatchEvent(new Event("resize")),y(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:r.createElement(U.Z,null)},".PNG")),r.createElement(re,{open:x,handleCustomSizeClose:function(){y(!1)},exportType:"PNG",exportHeading:"Export chart to PNG",exportFunc:function(e,t,a){l(e,t,a)}}),r.createElement(m.ZP,{title:"Export current chart in vector a format, typically for a graphics team.","aria-label":"Export current chart in vector a format, typically for a graphics team.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(){window.dispatchEvent(new Event("resize")),f(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:r.createElement(U.Z,null)},".SVG")),r.createElement(re,{open:g,handleCustomSizeClose:function(){f(!1)},exportType:"SVG",exportHeading:"Export chart to SVG",exportFunc:function(e,t,a){s(e,t,a)}}),r.createElement(m.ZP,{title:"Once the figure is ready, submit it to the TSU.","aria-label":"Once the figure is ready, submit it to the TSU.",placement:"bottom",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:t.toolTip}},r.createElement(G.Z,{onClick:function(){T(!0)},className:t.fabsvg,variant:"contained",color:"default",startIcon:r.createElement(J.Z,null)},"To TSU")),r.createElement(ge,{open:w,handleCloseFigure:function(){T(!1)}})))))}function we(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}be.propTypes={handleSwtichYearlyToLinea:o().func,handleSwtichAverageAndYearlya:o().func,handleSwtichMovingAverageAndYearlya:o().func,handleDownloadChartAsCSVa:o().func,handleDownloadChartAsPNGa:o().func,handleDownloadChartAsSVGa:o().func,lineChart:o().string,onChange:o().func};var Te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undefined=void 0}var t,a;return t=e,(a=[{key:"parseFile",value:function(e,t,a){for(var r=[],n=[],i=e.split(/\r?\n/),o=i[0].split(","),l=0;l<o.length;l+=1)o[l]=o[l].trim();var s=this.undefined;if("national"===t)s=1;else if("regional"===t||"state"===t)for(var c=1;c<o.length;c+=1)if(o[c].toUpperCase()===a.toUpperCase()){s=c;break}for(var u=1;u<i.length;u+=1){var h=i[u].split(",");if(h.length<=1)break;var d=parseInt(h[0],10),m=parseFloat(h[s]);r.push(d),n.push(m)}return[r,n]}}])&&we(t.prototype,a),e}();function De(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ce=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=[{value:"AK",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"AL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AZ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"AR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"CT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"DE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"FL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"GA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"HI",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{climatevariable:"1inch",period:"1900-current"},{climatevariable:"2inch",period:"1900-current"},{climatevariable:"3inch",period:"1900-current"},{climatevariable:"4inch",period:"1900-current"}],inValidPeriods:[{}]},{value:"ID",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IL",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"IA",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"KY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"LA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ME",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MS",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MO",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"MT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NE",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NJ",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NM",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"NC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"ND",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OH",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OK",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"OR",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"PR",region:"State",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"RI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SC",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"SD",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TN",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"TX",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"UT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VT",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"VI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WA",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WV",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WI",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"WY",region:"State",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"National",region:"National",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southeast",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Midwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Northwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southwest",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Southern Great Plains",region:"Regional",defaultPeriod:"1900-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Alaska",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Hawaii",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]},{value:"Puerto Rico",region:"Regional",defaultPeriod:"1950-current",inValidClimateVariables:[{}],inValidPeriods:[{}]}]}var t,a;return t=e,(a=[{key:"getDefaultPeriod",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].defaultPeriod:[{}]}},{key:"getInValidClimateVariables",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidClimateVariables:[{}]}},{key:"getInValidPeriods",value:function(e){var t=e.locationLimit;return t?this.config.filter((function(e){return e.value===t}))[0].inValidPeriods:[{}]}}])&&De(t.prototype,a),e}();function Se(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(363);var Ee=["National","Regional","State"],Ne=["1900-current","1950-current","1895-current"],ke=["yearly","ann","djf","mam","jja","son"],Me=["Northeast","Southeast","Midwest","Northern Great Plains","Northwest","Southwest","Southern Great Plains","Alaska","Hawaii","Puerto Rico"],Le=["AK","AL","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VA","VI","WA","WV","WI","WY"],Fe=a(173),Be="#FFFFFF",Ie="#E6E6E6",Ze="#FBFCFE",ze="#5C5C5C",Re=965,Oe=449.7,je=(0,c.Z)((function(e){var t,a,r;return{sandboxRoot:Ve({backgroundColor:Be,color:ze,height:"calc(100vh - 16px)"},e.breakpoints.down("xs"),{overflow:"scroll"}),sandboxHeader:Ve({height:"".concat(50,"px"),maxHeight:"".concat(50,"px"),color:ze},e.breakpoints.down("xs"),{height:"".concat(75,"px"),maxHeight:"".concat(75,"px")}),sandboxDescription:Ve({border:"0px solid transparent",height:"".concat(60,"px"),maxHeight:"".concat(60,"px"),color:ze,marginBottom:e.spacing(1.25),zIndex:900},e.breakpoints.down("xs"),{height:"".concat(90,"px"),maxHeight:"".concat(90,"px")}),sandboxSelectionArea:(t={maxHeight:"375px",backgroundColor:Ze,border:"1px solid ".concat(Ie),borderRadius:"4px"},Ve(t,e.breakpoints.down("sm"),{height:"".concat(Oe,"px"),maxHeight:"".concat(Oe,"px")}),Ve(t,e.breakpoints.down("xs"),{height:"".concat(Re,"px"),minHeight:"".concat(Re,"px")}),t),sandboxSelectionAreaHolder:(a={display:function(e){return"yes"===e.chartOnly?"none":"inherit"},margin:"6px"},Ve(a,e.breakpoints.down("sm"),{height:"".concat(Oe,"px"),maxHeight:"".concat(Oe,"px")}),Ve(a,e.breakpoints.down("xs"),{height:"".concat(Re,"px"),maxHeight:"".concat(Re,"px")}),a),sandboxChartRegion:Ve({height:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 250px)"},maxHeight:function(e){return"yes"===e.chartOnly?"100%":"calc(100% - 250x)"},minHeight:"".concat(400,"px")},e.breakpoints.down("sm"),{height:"".concat(575,"px !important"),maxHeight:"".concat(575,"px !important")}),sandboxChartRegionBox:Ve({height:"calc(100% - 10px)"},e.breakpoints.down("sm"),{height:"575px"}),sandboxExports:(r={height:"".concat(75,"px"),maxHeight:"".concat(75,"px"),paddingTop:"12px"},Ve(r,e.breakpoints.down("sm"),{height:"".concat(150,"px"),maxHeight:"".concat(150,"px")}),Ve(r,e.breakpoints.down("xs"),{height:"".concat(350,"px"),maxHeight:"".concat(350,"px")}),r),extendedIcon:{marginRight:e.spacing(1)},infoButton:{color:"#5C5C5C",fontSize:"1.5rem",marginLeft:e.spacing(.1),position:"absolute",backgroundColor:"#ffffff",borderRadius:"30px",top:"-0.66rem"},toolTip:{padding:e.spacing(2),fontSize:"1rem"},pulldownInfoHolder:{"& .MuiPaper-elevation1.Mui-expanded":{boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",backgroundColor:Ie},"& .MuiAccordionSummary-root.Mui-expanded":{backgroundColor:Be},"& .MuiPaper-elevation1":{boxShadow:"unset"}},moreAboutData:{backgroundColor:Ze}}}));function We(){var e=new URLSearchParams(window.location.search),t=e.get("region")?e.get("region"):"National",a=e.get("location")?e.get("location"):"",n=e.get("climatevariable")?e.get("climatevariable"):"tmpc",i=e.get("period")?e.get("period"):"1895-current",o=e.get("line")?e.get("line"):"year",l=e.get("season")?e.get("season"):"ann",c=e.get("chartonly")?e.get("chartonly"):"no",w=!0,T=!0,D=!0,S=!0,A=[""];switch(t){case"National":w=!1,D=!1,S=!1;break;case"Regional":A=Me,T=!1,w=!1,D=!1,S=!1;break;case"State":A=Le,T=!1,w=!1,D=!1,S=!1;break;default:w=!0,T=!0,D=!0,S=!0}var P=Ae((0,r.useState)(!0),2),V=P[0],N=P[1],k=Ae((0,r.useState)(!1),2),M=k[0],L=k[1],F=Ae((0,r.useState)("Chart Error"),2),B=F[0],I=F[1],z=Ae((0,r.useState)("Error"),2),R=z[0],O=z[1],j=Ae((0,r.useState)("Error"),2),W=j[0],G=j[1],U=Ae((0,r.useState)(t),2),Y=U[0],J=U[1],q=Ae((0,r.useState)(a),2),X=q[0],K=q[1],_=Ae((0,r.useState)(n),2),$=_[0],Q=_[1],ee=Ae((0,r.useState)(i),2),te=ee[0],ae=ee[1],re=Ae((0,r.useState)(l),2),ne=re[0],ie=re[1],oe=Ae((0,r.useState)(o),2),le=oe[0],se=oe[1],ce=Ae((0,r.useState)(c),2),ue=ce[0],he=ce[1],de=Ae((0,r.useState)([{}]),2),me=de[0],pe=de[1],ge=Ae((0,r.useState)({yaxis:{rangemode:"tozero",title:"Days",fixedrange:!0},xaxis:{rangemode:"tozero",fixedrange:!0}}),2),fe=ge[0],ve=ge[1],xe=Ae((0,r.useState)([""]),2),ye=xe[0],we=xe[1],De=Ae((0,r.useState)(A),2),Pe=De[0],Ve=De[1],Be=Ae((0,r.useState)([""]),2),Ie=Be[0],Ze=Be[1],ze=Ae((0,r.useState)(T),2),Re=ze[0],Oe=ze[1],We=Ae((0,r.useState)(w),2),He=We[0],Ge=We[1],Ue=Ae((0,r.useState)(D),2),Ye=Ue[0],Je=Ue[1],qe=Ae((0,r.useState)(S),2),Xe=qe[0],Ke=qe[1],_e=je({chartOnly:ue}),$e=function(e){return(new C).getLocationDownText(e)},Qe=function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.climateDataFilesJSONFile,l=e.chartLineChart,s=e.chartOnlyProp;!function(e){var t=e.chartDataRegion,a=e.chartDataLocation,r=e.chartDataClimatevariable,n=e.chartDataPeriod,i=e.chartDataSeason,o=e.chartLineChart,l=e.chartOnlyProp,s=new URLSearchParams;s.set("region",t),s.set("location",a),s.set("climatevariable",r),s.set("period",n),s.set("season",i),s.set("line",o),s.set("chartonly",l);var c="?".concat(s.toString());window.history.replaceState({},document.title,c)}({chartDataRegion:t,chartDataLocation:a,chartDataClimatevariable:r,chartDataPeriod:n,chartDataSeason:i,chartLineChart:l,chartOnlyProp:s});var c=o.filter((function(e){return e.period===n&&e.type===r&&e.season===i})).map((function(e){return e.name})),u="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname);return t&&("National"===t||a)&&r&&n&&i?(Fe.get("".concat(u,"sandboxdata/TSU_Sandbox_Datafiles/").concat(c)).then((function(e){var s=(new Te).parseFile(e.data,t.toLowerCase(),a),c=function(e){var t={default:"Temperature",pcpn:"Precipitation","1inch":"Precipitation","2inch":"Precipitation","3inch":"Precipitation","4inch":"Precipitation",tmin:"Temperature",tmax:"Temperature",tmax0F:"Temperature",tmax32F:"Temperature",tmax90F:"Temperature",tmax95F:"Temperature",tmax100F:"Temperature",tmin0F:"Temperature",tmin32F:"Temperature",tmin70F:"Temperature",tmin75F:"Temperature",tmin80F:"Temperature",hdd:"HeatingDays",cdd:"CoolingDays"};return t[e]||t.default}(r),u=new C(r),h=$e(a),d=u.getChartTitle({climatevariable:r,region:t,titleLocation:h,chartDataSeason:i}),m=u.getClimateVariablePullDownText(r,i),p=u.getPeriodRange(n),g=!1;o||(g=!0),t||(g=!0),"National"===t||a||(g=!0),r||(g=!0),n||(g=!0),i||(g=!0);var f={xvals:s[0],yvals:s[1],xmin:p[0],xmax:p[1],chartTitle:d,legnedText:c,chartType:c,climatevariable:m,chartLineChart:l,dataMissing:g,season:i},v=new E(f);g&&v.zeroOutChartData();var x={locationLimit:"National"===t?"National":a},y=new Ce;y.getDefaultPeriod(x),y.getInValidClimateVariables(x),y.getInValidPeriods(x),v.hasData()||g?v.isAllZeros()&&!g?(L(!0),G("Warning"),O("Warning data is all zeros"),I("Warning the chart data for ".concat(d," contains all zeros (0)."))):L(!1):(L(!0),G("Error"),O("Error data not available"),I("Unfortunately, there is no data available for ".concat(m,"\n            for ").concat(h,". To resolve this issue, try one or all of these three actions.\n            1) Change the location.\n            2) Change the climate variable.\n            3) Change the time period")));var b={xmin:p[0],xmax:p[1]};return v.setXRange(b),pe(v.getData()),ve(v.getLayout()),v})).catch((function(e){console.error("SanboxControls.updatePlotData() error=".concat(e))})),null):null},et=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),e.next=3,Fe.get("".concat(n,"sandboxdata/TSU_Sandbox_Datafiles/index.json")).then((function(e){var n={};switch(t){case"National":default:n=e.data.national;break;case"Regional":n=e.data.regional;break;case"State":n=e.data.state}we(n);var i=n.filter((function(e){return e.period===a&&e.season===r})).map((function(e){return e.type}));return Ze(i),V&&Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:n,chartLineChart:le,chartOnlyProp:ue}),n})).catch((function(e){return console.error("SanboxControls loadData error: ".concat(e)),[""]}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){Se(i,r,n,o,l,"next",e)}function l(e){Se(i,r,n,o,l,"throw",e)}o(void 0)}))});return function(e,a,r){return t.apply(this,arguments)}}();(0,r.useEffect)((function(){et(Y,te,ne,V)}),[ne]),(0,r.useEffect)((function(){et(Y,te,ne,V)}),[Y]),(0,r.useEffect)((function(){et(Y,te,ne,V),N(!1)}),[V]);var tt=function(e,t){return(new C).getClimateVariablePullDownText(e,t)},at=function(e){var t=".infolayer .g-gtitle .gtitle",a=e.querySelector(t);if(a){var r=a.getAttribute("data-unformatted").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","").replace("<br>","");return e.querySelector(t).setAttribute("data-unformatted",r),e}return e},rt=function(e){var t=Array.from(document.querySelectorAll(e)),a=document.createElement("div");a.setAttribute("id","merged-div");var r=document.createElement("svg"),n=t[0].getAttribute("width"),i=t[0].getAttribute("height");r.setAttribute("xmlns",t[0].getAttribute("xmlns")),r.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),r.setAttribute("width",n),r.setAttribute("height",i),r.setAttribute("style",t[0].getAttribute("style")),a.appendChild(r),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){if(!e.classList.contains("draglayer")){var t=e.cloneNode(!0),a=at(t);r.appendChild(a)}}))}));var o=btoa(unescape(encodeURIComponent(r.outerHTML)));return a.remove(),o},nt=function(){var e=new C("").getChartTitle({climatevariable:$,region:Y,titleLocation:$e(X),chartDataSeason:ne});return"".concat(e)},it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svg",a=document.createElement("a"),r=new MouseEvent("click");if(a.download="".concat(nt(),".").concat(t),"svg"===t){var n="data:image/svg+xml;base64,";a.href="".concat(n).concat(e)}else a.href=e;return a.dispatchEvent(r),a.remove(),null},ot=function(e,t,a){var r=document.querySelector(e);if(r){var n=r.getAttribute("width"),i=r.getAttribute("height");if(Number(n)===Number(t)&&Number(i)===Number(a))return!1}return!0},lt=function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(document.querySelector(e)&&!ot(e,t,a)){var r=rt(e);return it(r),null}var n=document.querySelector(".PlotRegionDiv").parentElement,i=document.querySelector(".user-select-none.svg-container"),o=n.getAttribute("width"),l=n.getAttribute("height"),s=i.getAttribute("width"),c=i.getAttribute("height");t>0&&a>0&&(n.style.width="".concat(t,"px"),i.style.width="".concat(t,"px"),n.style.height="".concat(a,"px"),i.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize")),setTimeout((function(){var t=rt(e);return it(t),n.style.width=o,i.style.width=s,n.style.height=l,i.style.height=c,window.dispatchEvent(new Event("resize")),null}),500))}(e,t,a)};return r.createElement("div",null,r.createElement(u.Z,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:_e.sandboxRoot},r.createElement(u.Z,{item:!0,xs:12,width:"100%",className:_e.sandboxSelectionAreaHolder},r.createElement(u.Z,{container:!0,spacing:0,justify:"flex-start",direction:"row",className:_e.sandboxSelectionArea},r.createElement(u.Z,{item:!0,xs:12,className:_e.sandboxHeader,width:"100%"},r.createElement(h.Z,{fontWeight:"fontWeightBold",mt:1,p:0,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(h.Z,{onClick:lt,px:1,fontSize:"h4.fontSize"},r.createElement(m.ZP,{title:"Create a figure for the NCA using the buttons to how you want to filter the data. Generated graphics can be exported or submitted to the TSU. Data source: X.","aria-label":"Create a figure for the NCA using the buttons to how you want to filter the data. Generated graphics can be exported or submitted to the TSU. Data source: X",placement:"bottom-end",TransitionComponent:p.Z,enterNextDelay:750,arrow:!0,interactive:!0,classes:{tooltip:_e.toolTip}},r.createElement(d.Z,{fontSize:"large",className:"InfoIcon"}))),r.createElement(h.Z,{px:1,fontSize:"h5.fontSize"},"NCA Figure and Climate Data Generator"))),r.createElement(u.Z,{item:!0,xs:12,className:_e.sandboxDescription,width:"100%"},r.createElement(h.Z,{p:0,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(h.Z,{px:1,fontWeight:400,fontSize:"caption",className:_e.pulldownInfoHolder},r.createElement(g.Z,{square:!0,className:_e.moreAboutData},r.createElement(f.Z,{expandIcon:r.createElement(y.Z,null),"aria-controls":"data-description-header",id:"data-description-header"},r.createElement(x.Z,{className:_e.aboutTheDataHeading},"Access climate data to create a proposed figure supporting your NCA chapter. ",r.createElement("a",{href:"#"},"Learn more about what data is being used..."))),r.createElement(v.Z,null,r.createElement(x.Z,null,"The Annual-Threshold graphs are derived from the Global Historical Climatology Network-Daily (GHCN) of the National Centers for Environmental Information. A select set of stations with minimal missing data are used for the calculations. The Annual and Seasonal Temperature and Precipitation graphs are derived from the new NOAA Monthly U.S. Climate Divisional Database (NClimDiv) of the National Centers for Environmental Information.")))))),r.createElement(u.Z,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},r.createElement(h.Z,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(Z,{items:Ee,controlName:"Select a Geographic Scale",onChange:function(e){switch(J(e),e){case"National":Ve([""]),K(""),Oe(!0),Ge(!1),Je(!1),Ke(!1);break;case"Regional":Ve(Me),K(""),Oe(!1),Ge(!1),Je(!1),Ke(!1);break;case"State":Ve(Le),K(""),Oe(!1),Ge(!1),Je(!1),Ke(!1);break;default:Ve([""]),K(""),Oe(!0),Ge(!0),Je(!0),Ke(!0)}he("no"),Qe({chartDataRegion:e,chartDataLocation:"",chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:le,chartOnlyProp:"no"})},value:Y,disabled:!1,season:ne,missing:!Y,replaceClimatevariableType:tt,TooltipText:"Select a scale: national, NCA region, or state"}))),r.createElement(u.Z,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},r.createElement(h.Z,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(Z,{items:Pe,controlName:"Select a Location",onChange:function(e){K(e),he("no"),Qe({chartDataRegion:Y,chartDataLocation:e,chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:le,chartOnlyProp:"no"})},value:X,season:ne,disabled:Re,missing:"National"!==Y&&!X,replaceClimatevariableType:tt,replaceLocationAbbreviation:$e,TooltipText:"Select the applicable NCA region or state based on your scale selection. Not applicable for national-scale figures"}))),r.createElement(u.Z,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},r.createElement(h.Z,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(Z,{items:ke,controlName:"Select the Time Scale",onChange:function(e){var t=ne;ie(e);var a=te,r=$;return"yearly"===e||"1900-current"!==te&&"1950-current"!==te||(ae("1895-current"),a="1895-current"),"yearly"===e&&"1895-current"===te&&(ae("1900-current"),a="1900-current"),"yearly"===t&&"yearly"!==e&&(Q("tmpc"),r="tmpc"),"yearly"!==t&&"yearly"===e&&(Q("1inch"),r="1inch"),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:r,chartDataPeriod:a,chartDataSeason:e,climateDataFilesJSONFile:ye,chartLineChart:le,chartOnlyProp:"no"}),null},value:ne,disabled:Xe,missing:!ne,season:ne,replaceClimatevariableType:tt,replaceSeasonType:function(e){return(new C).getSeasonPullDownText(e)},TooltipText:"Select from among two annual scales or the four meteorological seasons. Your selection will drive the what is available in the climate variables."}))),r.createElement(u.Z,{item:!0,xs:12,sm:6,md:4,className:"sandbox-varriable-selectors"},r.createElement(h.Z,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(Z,{items:Ie,controlName:"Select a Climate Variable",onChange:function(e){return Q(e),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:e,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:le,chartOnlyProp:"no"}),null},value:$,season:ne,disabled:He,missing:!$,replaceClimatevariableType:tt,TooltipText:"Select an applicable climate variable. Your available choices are based on your time scale selection. Your choice here will drive the time period(s) available. "}))),r.createElement(u.Z,{item:!0,xs:12,sm:3,md:2,className:"sandbox-varriable-selectors"},r.createElement(h.Z,{fontWeight:"fontWeightBold",ml:1,mt:1,mb:1,mr:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},r.createElement(Z,{items:Ne,controlName:"Select a Time Period",onChange:function(e){return ae(e),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:$,chartDataPeriod:e,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:le,chartOnlyProp:"no"}),null},value:te,disabled:Ye,missing:!te,season:ne,replaceClimatevariableType:tt,replacePeriodType:function(e,t){return(new C).getPeriodPullDownText(e,t)},TooltipText:"For mean temperature and precipitation, the entire available period of 1895-2020 should be displayed and it is thus the only option. For annual threshold graphics, the longest period of 1900-2020 should generally be chosen if available to represent a fuller range of observed variability. However, for some states, there are few or no stations that satisfy the missing data criterion (less than 10% missing daily data) and the shorter period of 1950-2020 is the only option. This shorter period is offered as an option for all of the regions and states for the threshold graphs. It may be a better option in some cases if the major features of variability occur after 1950; in that case, the greater number of stations that are used in the calculations provide for more robust statistics"}))),r.createElement(u.Z,{item:!0,xs:12,className:_e.sandboxExports},r.createElement(be,{handleDownloadChartAsCSVa:function(){var e,t,a,r,n,i,o,l,c,u=[(i=me[0].x,o=me[0].y,e=i.map((function(e,t){return{year:e,value:o[t]}})),t=e,a=function(e,t){return null===t?"":t},r=Object.keys(t[0]),n=t.map((function(e){return r.map((function(t){return JSON.stringify(e[t],a).replace(/\\"/g,'""')})).join(",")})),n.unshift(r.join(",")),n=n.join("\r\n"))];l="".concat(Y,"-").concat(X,"-").concat($,"-").concat(te,".csv"),c=new Blob(u,{type:"text/csv;charset=utf-8"}),s().saveAs(c,l)},handleDownloadChartAsPNGa:function(e,t,a){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-plotly-plot .main-svg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=document.querySelector(".PlotRegionDiv").parentElement,n=document.querySelector(".user-select-none.svg-container"),i=ot(e,t,a),o=r.getAttribute("width"),l=r.getAttribute("height"),s=n.getAttribute("width"),c=n.getAttribute("height");i&&(r.style.width="".concat(t,"px"),n.style.width="".concat(t,"px"),r.style.height="".concat(a,"px"),n.style.height="".concat(a,"px"),window.dispatchEvent(new Event("resize"))),setTimeout((function(){var t=Array.from(document.querySelectorAll(e)),a=t[0].getAttribute("width"),u=t[0].getAttribute("height"),h=document.createElement("div");h.setAttribute("id","merged-div");var d=document.createElement("svg");d.setAttribute("xmlns",t[0].getAttribute("xmlns")),d.setAttribute("xmlns:xlink",t[0].getAttribute("xmlns:xlink")),d.setAttribute("width",a),d.setAttribute("height",u),d.setAttribute("style",t[0].getAttribute("style")),h.appendChild(d),t.forEach((function(e){Array.from(e.childNodes).forEach((function(e){var t=e.cloneNode(!0),a=at(t);d.appendChild(a)}))}));var m=new Blob([d.outerHTML],{type:"image/svg+xml;charset=utf-8"}),p=(window.URL||window.webkitURL||window).createObjectURL(m),g=new Image;g.onload=function(){var e=document.createElement("canvas");e.width=a,e.height=u,e.getContext("2d").drawImage(g,0,0,a,u);var t=e.toDataURL();it(t,"png"),i&&(r.style.width=o,n.style.width=s,r.style.height=l,n.style.height=c,window.dispatchEvent(new Event("resize")))},g.src=p}),500)}(e,t,a)},handleDownloadChartAsSVGa:lt,handleSwtichAverageAndYearlya:function(){return se("avg"),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:"avg",chartOnlyProp:"no"}),null},handleSwtichMovingAverageAndYearlya:function(){return se("mavg"),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:"mavg",chartOnlyProp:"no"}),null},handleSwtichYearlyToLinea:function(){return se("year"),he("no"),Qe({chartDataRegion:Y,chartDataLocation:X,chartDataClimatevariable:$,chartDataPeriod:te,chartDataSeason:ne,climateDataFilesJSONFile:ye,chartLineChart:"year",chartOnlyProp:"no"}),null},handleMailToTSUa:function(){var e=new C,t=document.createElement("a"),a=e.getChartTitle({climatevariable:$,region:Y,titleLocation:X,chartDataSeason:ne}),r="I created a chart to show the ".concat(a,", using the NCA Sandbox. Here is a link to the chart: \n ").concat(encodeURIComponent(window.location.href));t.href="mailto:mail@example.org?subject=".concat("Here is my chart for the NCA","&body=").concat(r);var n=new MouseEvent("click");return t.dispatchEvent(n),t.remove(),null},lineChart:le})))),r.createElement(u.Z,{item:!0,xs:12,display:"flex",flex:1,className:_e.sandboxChartRegion},r.createElement(h.Z,{display:"flex",flexDirection:"row",m:1,width:1,justifyContent:"center",flex:1,flexGrow:3},r.createElement(H,{shouldOpenAlert:M,errorType:W,chartErrorTitle:R,chartErrorMessage:B})),r.createElement(h.Z,{display:"flex",flexDirection:"row",m:1,justifyContent:"center",flex:1,flexGrow:3,className:_e.sandboxChartRegionBox},r.createElement(b.Z,{plotlyData:me,plotlyLayout:fe})))))}function He(){return r.createElement("div",{className:"sandbox-holderofall"},r.createElement(We,null))}We.propTypes={chartDataRegion:o().string,chartDataLocation:o().string,chartDataClimatevariable:o().string,chartDataPeriod:o().string,chartDataSeason:o().string,climateDataFilesJSONFile:o().object,chartLineChart:o().string,chartOnlyProp:o().string},n.render(r.createElement(He,null),document.querySelector("#root"))},363:function(e,t,a){var r=a(191)(e.id,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)}},function(e){e.O(0,[771,833],(function(){return 193,e(e.s=193)})),e.O()}]);